# Clysmå®Ÿè£…è¨ˆç”»: WebAssembly GCã‚¿ãƒ¼ã‚²ãƒƒãƒˆCommon Lispã‚³ãƒ³ãƒ‘ã‚¤ãƒ©

**ä½œæˆæ—¥**: 2025-12-21
**æ›´æ–°æ—¥**: 2025-12-30 (v2.4.0)
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 13D-2 ANSI CL Sequence Operations (string-only MVP) å®Œäº†
**æ†²æ³•ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ANSIæº–æ‹ ç‡**: 23.4% (219/936ãƒ†ã‚¹ãƒˆ)

## âš ï¸ é‡è¦: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ¤œè¨¼çµæœ (2025-12-28)

**Fixed-Pointæ¤œè¨¼ã¯å½¢å¼çš„ã«æˆåŠŸ**ã—ã¦ã„ã‚‹ãŒã€**å®Ÿè³ªçš„ãªã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã¯æœªé”æˆ**ã€‚

### æ¤œè¨¼çµæœ

```json
{
  "status": "ACHIEVED",
  "stage1": { "size_bytes": 17, "valid": true },
  "stage2": { "size_bytes": 17, "valid": true },
  "comparison": { "identical": true }
}
```

### å•é¡Œç‚¹

| ã‚¹ãƒ†ãƒ¼ã‚¸ | ã‚µã‚¤ã‚º | å®Ÿéš›ã®å†…å®¹ |
|---------|--------|-----------|
| Stage 0 | 275 bytes | å‹å®šç¾© + **ã‚¹ã‚¿ãƒ–é–¢æ•°ã®ã¿** |
| Stage 1 | 17 bytes | **ç©ºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«** `(module)` |
| Stage 2 | 17 bytes | **ç©ºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«** `(module)` |

**Stage 0ã®å®Ÿæ…‹**:
```wat
(export "compile_form" (func 0))
(func (;0;) (param externref) (result externref)
  ref.null extern  ;; â† ä½•ã‚‚ã—ãªã„
)
```

### çµè«–

- ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—**ã‚¤ãƒ³ãƒ•ãƒ©**ã¯å®Œæˆï¼ˆæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ã‚¹ãƒ†ãƒ¼ã‚¸ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
- ã—ã‹ã—**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ­ã‚¸ãƒƒã‚¯**ãŒWasmã«å®Ÿè£…ã•ã‚Œã¦ã„ãªã„
- `Stage 1 == Stage 2 == ç©º` ã¯è‡ªæ˜ãªå›ºå®šç‚¹ã§ã‚ã‚Šã€æ„å‘³ãŒãªã„
- **Phase 13ã¯ã€Œã‚¤ãƒ³ãƒ•ãƒ©å®Œäº†ã€ã§ã‚ã‚Šã€Œã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆã€ã§ã¯ãªã„**

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€WebAssembly GCã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ãŸCommon Lispã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ŒClysmã€ã®
æ®µéšçš„å®Ÿè£…è¨ˆç”»ã‚’å®šç¾©ã™ã‚‹ã€‚æ†²æ³•ï¼ˆconstitution.mdï¼‰ã®8åŸå‰‡ã«æº–æ‹ ã—ã€TDDã¨Nix-First
ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å³æ ¼ã«éµå®ˆã™ã‚‹ã€‚

**æœ€çµ‚ç›®æ¨™**: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° â€” Clysmè‡ªèº«ãŒClysm Compilerã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã«ã™ã‚‹

---

## 1. ãƒ•ã‚§ãƒ¼ã‚ºåˆ†å‰²: æ®µéšçš„å®Ÿè£…è¨ˆç”»

### Phase 0: åŸºç›¤æ§‹ç¯‰ (Foundation) âœ… å®Œäº†

**ç›®æ¨™**: é–‹ç™ºç’°å¢ƒã¨Wasmãƒã‚¤ãƒŠãƒªç”ŸæˆåŸºç›¤ã®ç¢ºç«‹

#### æˆæœç‰©

1. **Nix Flakesç’°å¢ƒ**
   - `flake.nix`: SBCL, wasm-tools, wasmtime, wat2wasmã‚’å«ã‚€devShell
   - `nix flake check`ã«ã‚ˆã‚‹CIåŸºç›¤

2. **Wasmãƒã‚¤ãƒŠãƒªã‚¨ãƒŸãƒƒã‚¿ (ä½ãƒ¬ãƒ™ãƒ«)**
   - LEB128ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€/ãƒ‡ã‚³ãƒ¼ãƒ€
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ç”Ÿæˆå™¨ï¼ˆID 0-13ã®æ­£ã—ã„é †åºï¼‰
   - ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ãƒ»ãƒ˜ãƒƒãƒ€å‡ºåŠ›

3. **WATç”Ÿæˆå™¨ (ãƒ‡ãƒãƒƒã‚°ç”¨)**
   - Så¼å½¢å¼ã®WATå‡ºåŠ›
   - wasm-tools validateã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

#### æ¤œè¨¼åŸºæº–

- [x] `(module)` ã®ç©ºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒwasm-tools validateã‚’é€šé
- [x] å˜ç´”ãª `(func (result i32) (i32.const 42))` ãŒå®Ÿè¡Œå¯èƒ½
- [x] `nix flake check` ãŒãƒ‘ã‚¹

---

### Phase 1: æœ€å°Lispã‚µãƒ–ã‚»ãƒƒãƒˆ (Lisp-0) âœ… å®Œäº†

**ç›®æ¨™**: å³å€¤æ¼”ç®—ã¨åŸºæœ¬çš„ãªé–¢æ•°å®šç¾©ãŒå‹•ä½œã™ã‚‹æœ€å°å‡¦ç†ç³»

#### ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 

```lisp
(+ 1 2)                    ; Fixnumç®—è¡“
(- 10 3)                   ; æ¸›ç®—
(* 2 3)                    ; ä¹—ç®—
(< x 0)                    ; æ¯”è¼ƒ
(if (< x 0) -1 1)          ; æ¡ä»¶åˆ†å²
(let ((x 10)) x)           ; ãƒ¬ã‚­ã‚·ã‚«ãƒ«å¤‰æ•°
(let* ((x 1) (y x)) y)     ; é€æ¬¡æŸç¸›
(defun add (a b) (+ a b))  ; ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°
(add 1 2)                  ; é–¢æ•°å‘¼ã³å‡ºã—
```

#### å‹ãƒãƒƒãƒ”ãƒ³ã‚° (WasmGC)

```wat
;; Phase 1ã§å®šç¾©ã™ã‚‹å‹
(type $fixnum (ref i31))  ;; 31ãƒ“ãƒƒãƒˆæ•´æ•°

(type $cons (struct
  (field $car (mut anyref))
  (field $cdr (mut anyref))))

(type $symbol (struct
  (field $name (ref $string))
  (field $value (mut anyref))
  (field $function (mut anyref))
  (field $plist (mut anyref))
  (field $package (mut anyref))))
```

#### æ¤œè¨¼åŸºæº–

- [x] `(+ 1 (* 2 3))` => 7
- [x] `(defun f (x) x)` + `(f 42)` => 42
- [x] 10å€‹ä»¥ä¸Šã®Fixnumç®—è¡“ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹
- [x] ç”Ÿæˆã•ã‚ŒãŸWasmãŒwasmtimeã§å®Ÿè¡Œå¯èƒ½

---

### Phase 2: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¨å†å¸° (Lisp-1) âœ… å®Œäº†

**ç›®æ¨™**: ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹é–¢æ•°ã¨Tail Callæœ€é©åŒ–

#### ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 

```lisp
(lambda (x) (+ x 1))          ; ç„¡åé–¢æ•°
(funcall f arg)               ; é–“æ¥å‘¼ã³å‡ºã—
(apply f args)                ; ãƒªã‚¹ãƒˆé©ç”¨
(labels ((f (x) ...)) ...)    ; ãƒ­ãƒ¼ã‚«ãƒ«é–¢æ•°
;; æœ«å°¾å†å¸°
(defun fact (n)
  (labels ((iter (n acc)
             (if (= n 0) acc
                 (iter (1- n) (* n acc)))))
    (iter n 1)))
```

#### ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£æ§‹é€ ä½“ï¼ˆæ†²æ³• IIIæº–æ‹ ï¼‰

```wat
(type $closure (struct
  (field $code_0 (ref null $func_0))  ;; 0å¼•æ•°ç”¨
  (field $code_1 (ref null $func_1))  ;; 1å¼•æ•°ç”¨
  (field $code_2 (ref null $func_2))  ;; 2å¼•æ•°ç”¨
  (field $code_N (ref null $func_N))  ;; æ±ç”¨ï¼ˆãƒªã‚¹ãƒˆæ¸¡ã—ï¼‰
  (field $env (mut anyref))))
```

#### æ¤œè¨¼åŸºæº–

- [x] `(funcall (lambda (x) (+ x 1)) 10)` => 11
- [x] `(fact 100)` ãŒã‚¹ã‚¿ãƒƒã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãªã—
- [x] ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ã‚ˆã‚‹å¤‰æ•°ã‚­ãƒ£ãƒ—ãƒãƒ£ãŒæ­£å¸¸å‹•ä½œ

---

### Phase 3: åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã¨ä¾‹å¤–å‡¦ç† (Lisp-2) âœ… å®Œäº†

**ç›®æ¨™**: éå±€æ‰€è„±å‡ºã¨unwind-protect

#### ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 

```lisp
(block name (return-from name 42))
(tagbody loop (go loop))
(catch 'tag (throw 'tag value))
(unwind-protect form cleanup-form)
```

#### æ¤œè¨¼åŸºæº–

- [x] `(block nil (return-from nil 42))` => 42
- [x] `(catch 'foo (throw 'foo 123))` => 123
- [x] `(unwind-protect (error) (cleanup))` ã§cleanupãŒå®Ÿè¡Œã•ã‚Œã‚‹

---

### Phase 4: å‹•çš„ã‚¹ã‚³ãƒ¼ãƒ—ã¨ãƒªãƒ¼ãƒ€ãƒ¼ (Lisp-3) âœ… å®Œäº†

**ç›®æ¨™**: ã‚¹ãƒšã‚·ãƒ£ãƒ«å¤‰æ•°ã¨Så¼èª­ã¿è¾¼ã¿

#### æ¤œè¨¼åŸºæº–

- [x] `(read-from-string "(+ 1 2)")` => `(+ 1 2)`
- [x] ã‚¹ãƒšã‚·ãƒ£ãƒ«å¤‰æ•°ã®å‹•çš„æŸç¸›ãŒæ­£ã—ãå‹•ä½œ
- [x] åŸºæœ¬çš„ãªREPLãŒå‹•ä½œ

---

### Phase 5: ãƒã‚¯ãƒ­ã‚·ã‚¹ãƒ†ãƒ  (Lisp-4) âœ… å®Œäº†

**ç›®æ¨™**: defmacroã¨ãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆ

#### ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 

```lisp
(defmacro when (test &body body)
  `(if ,test (progn ,@body)))

(defmacro unless (test &body body)
  `(if (not ,test) (progn ,@body)))
```

#### æ¤œè¨¼åŸºæº–

- [x] `(when t 1 2 3)` => 3
- [x] `defmacro`ã§å®šç¾©ã—ãŸãƒã‚¯ãƒ­ãŒæ­£ã—ãå±•é–‹ã•ã‚Œã‚‹
- [x] ãƒã‚¹ãƒˆã—ãŸãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆãŒæ­£å¸¸å‹•ä½œ

---

### Phase 6: Eval/JIT (Lisp-5) âœ… å®Œäº†

**ç›®æ¨™**: å‹•çš„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼ˆæ†²æ³• VIæº–æ‹ ï¼‰

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Œäº† (017-eval-jit-compile)

#### æ¤œè¨¼åŸºæº–

- [x] `(eval '(+ 1 2))` => 3
- [x] `(compile nil '(lambda (x) (+ x 1)))` ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿é–¢æ•°ã‚’è¿”ã™
- [x] Tier 1/Tier 2ã®åˆ‡ã‚Šæ›¿ãˆãŒæ­£å¸¸å‹•ä½œ

---

### Phase 7: CLOSåŸºç›¤ (Lisp-6) âœ… å®Œäº†

**ç›®æ¨™**: åŸºæœ¬çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚·ã‚¹ãƒ†ãƒ 

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Œäº† (026-clos-foundation)

#### ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 

```lisp
(defclass point ()
  ((x :initarg :x :accessor point-x)
   (y :initarg :y :accessor point-y)))

(defmethod distance ((p point))
  (sqrt (+ (expt (point-x p) 2)
           (expt (point-y p) 2))))
```

#### æ¤œè¨¼åŸºæº–

- [x] `(make-instance 'point :x 3 :y 4)` ãŒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
- [x] `(distance p)` ãŒãƒ¡ã‚½ãƒƒãƒ‰ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚’å®Ÿè¡Œ
- [x] ç¶™æ‰¿ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ãŒå‹•ä½œ

---

### Phase 8: æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (Lisp-7) âœ… å®Œäº†

**ç›®æ¨™**: ANSI Common Lispæº–æ‹ ã«å‘ã‘ãŸæ‹¡å……

| ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚º | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | æ©Ÿèƒ½é ˜åŸŸ |
|-------------|-----------|---------|
| Phase 8A | âœ… å®Œäº† | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹é–¢æ•° (007) |
| Phase 8B | âœ… å®Œäº† | æ•°å€¤å¡” (010) |
| Phase 8C | âœ… å®Œäº† | FFIåŸºç›¤ (027) |
| Phase 8D | â¸ï¸ ä¸­æ–­ | WASI Stream I/O (FFIä»£æ›¿ã§å®Ÿè£…æ¸ˆã¿) |
| Phase 8E | âœ… å®Œäº† | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  (013) |
| Phase 8F | âœ… å®Œäº† | æ¡ä»¶ã‚·ã‚¹ãƒ†ãƒ  (014) |
| Phase 8G | âœ… å®Œäº† | æ•°å€¤ã‚¢ã‚¯ã‚»ã‚µ (019) |
| Phase 8H | âœ… å®Œäº† | Setf/æ±å¤‰æ•° (028) |
| Phase 8I | âœ… å®Œäº† | LOOPãƒã‚¯ãƒ­ (029) |

---

## 2. ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚º (Phase 9-13)

### Phase 9: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°åŸºç›¤ (Lisp-8) âœ… å®Œäº†

**ç›®æ¨™**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒä½¿ç”¨ã™ã‚‹CLæ©Ÿèƒ½ã®ã†ã¡ã€æœªå®Ÿè£…ã®ã‚‚ã®ã‚’è£œå®Œ

#### 9A: å‹ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µ

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯`typecase`/`etypecase`ã‚’892ç®‡æ‰€ã§ä½¿ç”¨ã€‚ã“ã‚ŒãŒæœ€å¤§ã®ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã€‚

```lisp
;; å®Ÿè£…ãŒå¿…è¦ãªå‹åˆ†å²ãƒã‚¯ãƒ­
(typecase obj
  (fixnum ...)
  (string ...)
  (cons ...))

(etypecase obj        ; exhaustiveï¼ˆç¶²ç¾…çš„ï¼‰ç‰ˆ
  (fixnum ...)
  (string ...))

(check-type x fixnum) ; å‹æ¤œè¨¼
```

**ã‚¿ã‚¹ã‚¯**:
- [x] `typecase` ãƒã‚¯ãƒ­å®Ÿè£…ï¼ˆ`cond` + `typep` å±•é–‹ï¼‰
- [x] `etypecase` ãƒã‚¯ãƒ­å®Ÿè£…ï¼ˆã‚¨ãƒ©ãƒ¼ä»˜ãï¼‰
- [x] `ctypecase` ãƒã‚¯ãƒ­å®Ÿè£…ï¼ˆå†è©¦è¡Œå¯èƒ½ï¼‰
- [x] `check-type` ãƒã‚¯ãƒ­å®Ÿè£…

#### 9B: åˆ†è§£æŸç¸›

```lisp
;; destructuring-bind: ãƒã‚¯ãƒ­å¼•æ•°è§£æã§9ç®‡æ‰€ä½¿ç”¨
(destructuring-bind (a b &rest rest) list
  ...)
```

**ã‚¿ã‚¹ã‚¯**:
- [x] `destructuring-bind` ãƒã‚¯ãƒ­å®Ÿè£…
- [x] `&optional`, `&rest`, `&key`, `&body` ã‚µãƒãƒ¼ãƒˆ
- [x] ãƒã‚¹ãƒˆæ§‹é€ åˆ†è§£ã‚µãƒãƒ¼ãƒˆ

#### 9C: é«˜åº¦ãªdefmacro âœ… å®Œäº† (Feature 042)

ç¾åœ¨ã®`defmacro`ã¯ãƒ›ã‚¹ãƒˆSBCLã§å®Ÿè¡Œã€‚Wasmå†…ã§ãƒã‚¯ãƒ­å±•é–‹ã™ã‚‹ã«ã¯æ‹¡å¼µãŒå¿…è¦ã€‚

**ã‚¿ã‚¹ã‚¯**:
- [x] `defmacro` ã‚’ASTå†…ã§ç›´æ¥ãƒ‘ãƒ¼ã‚¹å¯èƒ½ã«
- [x] ãƒã‚¯ãƒ­ãƒ©ãƒ ãƒ€ãƒªã‚¹ãƒˆå®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆ`&whole`, `&environment`ï¼‰
- [x] ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒã‚¯ãƒ­å±•é–‹å™¨

#### 9D: FORMATåŸºç›¤

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯93ç®‡æ‰€ã§`format`ã‚’ä½¿ç”¨ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ï¼‰ã€‚

```lisp
;; å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–
(format nil "~A ~S ~D ~%" obj obj num)
(format nil "~{~A~^, ~}" list)
```

**å¿…é ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–**:
- `~A` (aesthetic)
- `~S` (standard / prin1å½¢å¼)
- `~D` (decimal integer)
- `~%` (newline)
- `~&` (fresh-line)
- `~~` (literal tilde)

**æ‹¡å¼µãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–** (å„ªå…ˆåº¦ä¸­):
- `~{~}` (iteration)
- `~[~]` (conditional)
- `~?` (recursive processing)

**ã‚¿ã‚¹ã‚¯**:
- [x] FORMATåŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å®Ÿè£…
- [x] FORMATåå¾©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å®Ÿè£…
- [x] FORMATæ¡ä»¶ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å®Ÿè£…

#### æ¤œè¨¼åŸºæº–

- [x] `(typecase 42 (fixnum :fix) (t :other))` => :fix
- [x] `(destructuring-bind (a b) '(1 2) (+ a b))` => 3
- [x] `(format nil "~A + ~A = ~D" 1 2 3)` => "1 + 2 = 3"
- [x] ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®`func-section.lisp`å†…ã®`etypecase`ãŒå‹•ä½œ

---

### Phase 10: SBCLéä¾å­˜åŒ– (Lisp-9) âœ… å®Œäº†

**ç›®æ¨™**: ãƒ›ã‚¹ãƒˆå›ºæœ‰æ©Ÿèƒ½ã®æ’é™¤

#### 10A: IEEE 754 ãƒ“ãƒƒãƒˆæŠ½å‡º

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯SBCLå›ºæœ‰é–¢æ•°ã§æµ®å‹•å°æ•°ç‚¹ãƒªãƒ†ãƒ©ãƒ«ã‚’Wasmãƒã‚¤ãƒŠãƒªã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã€‚

```lisp
;; ç¾åœ¨ã®å®Ÿè£… (SBCLä¾å­˜)
(sb-kernel:single-float-bits 3.14)  ; => ãƒ“ãƒƒãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
(sb-kernel:double-float-bits 3.14d0)

;; ç½®æ›ãŒå¿…è¦
(sb-int:with-float-traps-masked (:overflow :invalid)
  (/ 1.0 0.0))  ; => +Infinity
```

**ä»£æ›¿å®Ÿè£…ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:

1. **FFIçµŒç”± (æ¨å¥¨)**: ãƒ›ã‚¹ãƒˆJavaScript/wasmtimeã®DataView APIã‚’ä½¿ç”¨
   ```lisp
   (ffi:call-host "float64-to-bits" 3.14d0) ; => i64
   ```

2. **ç´”Lispå®Ÿè£…**: IEEE 754æ‰‹å‹•ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆè¤‡é›‘ã ãŒç§»æ¤æ€§é«˜ï¼‰

3. **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°ãƒ†ãƒ¼ãƒ–ãƒ«**: ä¸€èˆ¬çš„ãªæµ®å‹•å°æ•°ç‚¹å®šæ•°ã‚’äº‹å‰è¨ˆç®—

**ã‚¿ã‚¹ã‚¯**:
- [x] `float-to-bits` FFIé–¢æ•°å®Ÿè£…
- [x] `bits-to-float` FFIé–¢æ•°å®Ÿè£…
- [x] æµ®å‹•å°æ•°ç‚¹ãƒˆãƒ©ãƒƒãƒ—ã®ãƒãƒ¼ã‚¿ãƒ–ãƒ«å‡¦ç†
- [x] `compiler/compiler.lisp:1118-1135` ã®æ›¸ãæ›ãˆ

#### 10B: UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° (Babelä»£æ›¿)

```lisp
;; ç¾åœ¨: babel:string-to-octets ã‚’6ç®‡æ‰€ã§ä½¿ç”¨
(babel:string-to-octets "hello" :encoding :utf-8)

;; ä»£æ›¿: Clysmå†…è”µUTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€
(clysm:string-to-utf8-octets "hello")
```

**ã‚¿ã‚¹ã‚¯**:
- [x] `string-to-utf8-octets` é–¢æ•°å®Ÿè£…
- [x] `utf8-octets-to-string` é–¢æ•°å®Ÿè£…
- [x] ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢å¯¾å¿œ
- [x] Babelä¾å­˜ç®‡æ‰€ã®ç½®æ›

#### 10C: ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚¢ã‚¯ã‚»ã‚¹ âœ… å®Œäº† (Feature 035)

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯`with-open-file`ã‚’13ç®‡æ‰€ã§ä½¿ç”¨ã€‚

**å®Ÿè£…æˆ¦ç•¥**:
- ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒ: Virtual FSã¾ãŸã¯IndexedDB
- wasmtimeç’°å¢ƒ: WASI Preview2çµŒç”±
- é–‹ç™ºæ™‚: ãƒ›ã‚¹ãƒˆFFIçµŒç”±

**ã‚¿ã‚¹ã‚¯**:
- [x] `open-file` FFIå®Ÿè£…
- [x] `close-file` FFIå®Ÿè£…
- [x] `read-file-contents` FFIå®Ÿè£…
- [x] `write-file-contents` FFIå®Ÿè£…
- [x] `with-open-file` ãƒã‚¯ãƒ­ï¼ˆFFIãƒ©ãƒƒãƒ‘ãƒ¼ï¼‰

#### æ¤œè¨¼åŸºæº–

- [x] `(float-to-bits 3.14d0)` ãŒæ­£ã—ã„IEEE 754ãƒ“ãƒƒãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿”ã™
- [x] `(string-to-utf8-octets "æ—¥æœ¬èª")` ãŒæ­£ã—ã„ãƒã‚¤ãƒˆåˆ—ã‚’è¿”ã™
- [x] ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ããŒwasmtimeä¸Šã§å‹•ä½œ
- [x] SBCLå›ºæœ‰é–¢æ•°ã®ä½¿ç”¨ç®‡æ‰€ãŒã‚¼ãƒ­

---

### Phase 11: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚µãƒ–ã‚»ãƒƒãƒˆæ¤œè¨¼ (Lisp-10) âœ… å®Œäº† (Feature 036)

**ç›®æ¨™**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã‹æ¤œè¨¼

#### 11A: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½æ€§åˆ†æ

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ä¸»è¦ä¾å­˜æ©Ÿèƒ½ | é›£æ˜“åº¦ |
|-----------|-----------|-------------|-------|
| `backend/` | 4 | loop, defstruct, format | ä½ |
| `reader/` | 4 | loop, cond, push | ä½ |
| `compiler/ast.lisp` | 1 | defstruct :include, typecase | ä¸­ |
| `compiler/codegen/` | 5 | etypecase, å†å¸°, format | é«˜ |
| `runtime/` | 4 | defstruct, loop | ä½ |
| `clos/` | 8 | defclass, defmethod | ä¸­ |
| `conditions/` | 6 | handler-case, restart-case | ä¸­ |

#### 11B: æ®µéšçš„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

```
Step 1: backend/leb128.lisp     (ä¾å­˜ãªã—)
Step 2: backend/sections.lisp   (leb128ä¾å­˜)
Step 3: reader/tokenizer.lisp   (ä¾å­˜ãªã—)
Step 4: reader/parser.lisp      (tokenizerä¾å­˜)
Step 5: compiler/ast.lisp       (ä¾å­˜ãªã—)
Step 6: compiler/codegen/*      (astä¾å­˜)
Step 7: compiler/compiler.lisp  (å…¨ä¾å­˜)
```

**ã‚¿ã‚¹ã‚¯**:
- [x] å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ä½œæˆ
- [x] `blessed-subset.lisp` å®šç¾©ï¼ˆè‡ªå·±ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ãªCLã‚µãƒ–ã‚»ãƒƒãƒˆï¼‰
- [x] æ®µéš1-3ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸç¢ºèª
- [x] æ®µéš4-7ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸç¢ºèª

#### 11C: äº’æ›æ€§ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è‡ªèº«ã®ãƒ†ã‚¹ãƒˆ
(deftest compiler-compiles-leb128
  (let ((wasm (compile-file "src/clysm/backend/leb128.lisp")))
    (is (valid-wasm-p wasm))))
```

**ã‚¿ã‚¹ã‚¯**:
- [x] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ
- [x] å‡ºåŠ›Wasmæ¤œè¨¼ãƒ†ã‚¹ãƒˆ
- [x] å®Ÿè¡Œæ™‚å‹•ä½œãƒ†ã‚¹ãƒˆ

#### æ¤œè¨¼åŸºæº–

- [x] `backend/` å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] `reader/` å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] `compiler/` å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] ç”Ÿæˆã•ã‚ŒãŸWasmãŒwasm-tools validateã‚’é€šé

---

### Phase 12: ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« (Lisp-11) âœ… å®Œäº† (Feature 037-040)

**ç›®æ¨™**: SBCLã§Clysm Compilerã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€Wasmç‰ˆClysm Compilerã‚’ç”Ÿæˆ

#### 12A: ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ç’°å¢ƒæ§‹ç¯‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SBCL (Host) â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ Clysm.wasm (T0) â”‚
â”‚ + Clysm CL  â”‚                   â”‚ (Stage 0)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚¿ã‚¹ã‚¯**:
- [x] å…¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚½ãƒ¼ã‚¹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆç”Ÿæˆ
- [x] ãƒ­ãƒ¼ãƒ‰é †åºã®æ±ºå®šï¼ˆä¾å­˜é–¢ä¿‚ã‚½ãƒ¼ãƒˆï¼‰
- [x] å˜ä¸€Wasmãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ã®çµ±åˆ
- [x] ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

#### 12B: Stage 0ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç”Ÿæˆ

```bash
# Stage 0: SBCLã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
sbcl --load "build/bootstrap.lisp" --eval "(build-clysm-wasm)"
# => dist/clysm-stage0.wasm
```

**ã‚¿ã‚¹ã‚¯**:
- [x] `build/bootstrap.lisp` ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [x] ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ç’°å¢ƒã®åˆ†é›¢
- [x] ãƒ‡ãƒãƒƒã‚°ã‚·ãƒ³ãƒœãƒ«å‡ºåŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [x] `dist/clysm-stage0.wasm` ç”Ÿæˆ

#### 12C: Stage 0æ¤œè¨¼

```lisp
;; Stage 0ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ç°¡å˜ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
(run-wasm "clysm-stage0.wasm"
  :input "(compile nil '(lambda (x) (+ x 1)))")
;; => æœ‰åŠ¹ãªWasmãƒã‚¤ãƒŠãƒª
```

**ã‚¿ã‚¹ã‚¯**:
- [x] åŸºæœ¬ç®—è¡“ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ
- [x] é–¢æ•°å®šç¾©ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ
- [x] åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ
- [x] SBCLç‰ˆã¨ã®å‡ºåŠ›æ¯”è¼ƒ

#### æ¤œè¨¼åŸºæº–

- [x] `clysm-stage0.wasm` ãŒwasmtimeã§å®Ÿè¡Œå¯èƒ½
- [x] Stage 0ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒ`(+ 1 2)`ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] Stage 0ã®å‡ºåŠ›ãŒSBCLç‰ˆã¨åŒä¸€ï¼ˆãƒ“ãƒƒãƒˆå˜ä½ï¼‰

---

### Phase 13: å®Œå…¨ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° (Lisp-12) âš ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ã®ã¿å®Œäº†

**ç›®æ¨™**: Wasmç‰ˆClysmsãŒClysmè‡ªèº«ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½

**ç¾çŠ¶**: ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ã‚¤ãƒ³ãƒ•ãƒ©ã¯å®Œæˆã—ãŸãŒã€Stage 0ã«å®Ÿéš›ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ­ã‚¸ãƒƒã‚¯ãŒæœªå®Ÿè£…

#### 13A: Stage 1ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç”Ÿæˆ âš ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ã®ã¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clysm.wasm (T0) â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ Clysm.wasm (T1) â”‚
â”‚ (Stage 0)       â”‚                   â”‚ (Stage 1)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚¿ã‚¹ã‚¯**:
- [x] Stage 0ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚½ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã¿ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [x] Stage 1 Wasmãƒã‚¤ãƒŠãƒªç”Ÿæˆï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [x] Stage 0ã¨Stage 1ã®æ¯”è¼ƒï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [ ] **Stage 0ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…** â† æœªå®Œäº†

#### 13B: å›ºå®šç‚¹æ¤œè¨¼ âš ï¸ å½¢å¼çš„é”æˆã®ã¿

```
T0 (SBCLç”Ÿæˆ) â†’ T1 (T0ç”Ÿæˆ) â†’ T2 (T1ç”Ÿæˆ)
                              â†“
                         T1 == T2 ãªã‚‰ã°å›ºå®šç‚¹é”æˆ
```

**ç¾çŠ¶ã®å•é¡Œ**:
```
T0 (275 bytes, ã‚¹ã‚¿ãƒ–) â†’ T1 (17 bytes, ç©º) â†’ T2 (17 bytes, ç©º)
                                              â†“
                                    T1 == T2 (è‡ªæ˜ãªå›ºå®šç‚¹)
```

**ã‚¿ã‚¹ã‚¯**:
- [x] Stage 2ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç”Ÿæˆï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [x] Stage 1ã¨Stage 2ã®ãƒ“ãƒƒãƒˆå˜ä½æ¯”è¼ƒï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [ ] **éè‡ªæ˜ãªå›ºå®šç‚¹é”æˆ** â† æœªå®Œäº†

#### 13C: é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç¢ºç«‹ âŒ æœªå®Œäº†

```bash
# ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«ï¼ˆç›®æ¨™ï¼‰
./clysm compile src/clysm/**/*.lisp -o clysm-next.wasm
./clysm-next compile tests/**/*.lisp -o tests.wasm
wasmtime tests.wasm
```

**ã‚¿ã‚¹ã‚¯**:
- [x] CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰
- [ ] **å®Ÿéš›ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å‹•ä½œ** â† æœªå®Œäº†
- [ ] ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
- [ ] ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒª
- [ ] REPLã‹ã‚‰ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

#### æ¤œè¨¼åŸºæº–

- [x] Stage 1ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒç”Ÿæˆå¯èƒ½ï¼ˆå½¢å¼çš„ï¼‰
- [x] Stage 1 == Stage 2 (è‡ªæ˜ãªå›ºå®šç‚¹)
- [ ] **Stage 0ãŒå®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½** â† æœªé”æˆ
- [ ] SBCLãªã—ã§Clysmé–‹ç™ºãŒå¯èƒ½ â† æœªé”æˆ
- [ ] æ–°æ©Ÿèƒ½ãŒã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆç’°å¢ƒã§é–‹ç™ºå¯èƒ½ â† æœªé”æˆ

#### 13D: çœŸã®ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆ ğŸ¯ æ¬¡ã®æœ€å„ªå…ˆã‚¿ã‚¹ã‚¯

**ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: SBCLä¸Šã®Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§Clysmè‡ªèº«ã‚’Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: SBCL + Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©                               â”‚
â”‚   â””â”€â”€ Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å…¨ä½“ã‚’Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«                   â”‚
â”‚         â””â”€â”€ dist/clysm-stage1.wasm (å®Œå…¨ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Node.js + host-shim + Stage 1                        â”‚
â”‚   â””â”€â”€ Stage 1ã§Clysmè‡ªèº«ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«                          â”‚
â”‚         â””â”€â”€ dist/clysm-stage2.wasm                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: å›ºå®šç‚¹æ¤œè¨¼                                           â”‚
â”‚   â””â”€â”€ Stage 1 == Stage 2 (ãƒã‚¤ãƒˆå˜ä½ä¸€è‡´)                     â”‚
â”‚         â””â”€â”€ ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆï¼                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç¾åœ¨ã®ãƒ–ãƒ­ãƒƒã‚«ãƒ¼**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç‡12.9% (ä¸»è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«46ãƒ•ã‚¡ã‚¤ãƒ«åˆ†æ)

**åˆ†æçµæœ** (2025-12-29):
- åˆ†æãƒ•ã‚¡ã‚¤ãƒ«: 46 (compiler/, backend/, reader/, runtime/, clos/, conditions/, eval/, lib/)
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸ: 112ãƒ•ã‚©ãƒ¼ãƒ 
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¤±æ•—: 756ãƒ•ã‚©ãƒ¼ãƒ 
- **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç‡: 12.9%**

#### ãƒ–ãƒ­ãƒƒã‚«ãƒ¼åˆ†æï¼ˆ2025-12-29 ä¿®æ­£ï¼‰

> **é‡è¦ãªè¨‚æ­£**: ä»¥å‰ã®åˆ†æã§ã¯ã€Œå†…éƒ¨é–¢æ•°ã‚’ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ç™»éŒ²ã™ã¹ãã€ã¨ã—ã¦ã„ãŸãŒã€
> ã“ã‚Œã¯èª¤ã‚Šã§ã‚ã‚‹ã€‚`make-ast-literal`ç­‰ã¯defstructãŒç”Ÿæˆã™ã‚‹é–¢æ•°ã€
> `encode-unsigned-leb128`ç­‰ã¯é€šå¸¸ã®defunã§ã‚ã‚Šã€ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ç™»éŒ²ã™ã¹ãã§ã¯ãªã„ã€‚
> çœŸã®å•é¡Œã¯ã€ã“ã‚Œã‚‰ã®é–¢æ•°ãŒä½¿ç”¨ã™ã‚‹**ANSI CLæ¨™æº–é–¢æ•°**ãŒãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã¨ã—ã¦æœªå®Ÿè£…ã§ã‚ã‚‹ã“ã¨ã€‚

#### æ ¹æœ¬åŸå› : ANSI CLé–¢æ•°ã®æœªå®Ÿè£…

**å…·ä½“ä¾‹: `encode-unsigned-leb128`** (backend/leb128.lisp):

```lisp
(defun encode-unsigned-leb128 (value)
  (let ((bytes '()))
    (loop
      (let ((byte (logand value #x7f)))      ;; âœ… logand: å®Ÿè£…æ¸ˆã¿
        (setf value (ash value -7))          ;; âœ… ash: å®Ÿè£…æ¸ˆã¿
        (if (zerop value)                    ;; âœ… zerop: å®Ÿè£…æ¸ˆã¿
            (progn (push byte bytes) (return))
            (push (logior byte #x80) bytes))))
    (coerce (nreverse bytes) '(vector ...))))  ;; âŒ coerce: æœªå®Ÿè£…ï¼
```

ã“ã®é–¢æ•°ã¯æ™®é€šã®defunã ãŒã€æœ€çµ‚è¡Œã§`coerce`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚
`coerce`ãŒãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã¨ã—ã¦æœªå®Ÿè£…ã®ãŸã‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«å¤±æ•—ã™ã‚‹ã€‚

**å…·ä½“ä¾‹: `make-ast-literal`** (compiler/ast.lisp):

```lisp
(defstruct (ast-literal (:include ast-node) ...)
  (value nil :type t)
  (literal-type nil :type keyword))
;; â†’ defstructãƒã‚¯ãƒ­ãŒmake-ast-literal, ast-literal-valueç­‰ã‚’ç”Ÿæˆ
;; â†’ ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã¯é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹(aref/svref)ã‚’ä½¿ç”¨
;; â†’ aref/svrefãŒãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã¨ã—ã¦æœªå®Ÿè£…ã®ãŸã‚å¤±æ•—
```

#### ãƒ–ãƒ­ãƒƒã‚«ãƒ¼åˆ†é¡ï¼ˆä¿®æ­£ç‰ˆï¼‰

**ã‚«ãƒ†ã‚´ãƒª1: ANSI CLé–¢æ•°ã®æœªå®Ÿè£…ï¼ˆæ ¹æœ¬åŸå› ï¼‰**

| é–¢æ•° | ANSI CLä»•æ§˜ | ä½¿ç”¨ç®‡æ‰€ | å½±éŸ¿ç¯„å›² |
|-----|------------|---------|---------|
| `coerce` | Â§17.3 | leb128.lisp, å¤šæ•° | å‹å¤‰æ›å…¨èˆ¬ |
| `aref` | Â§15.2 | é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹å…¨èˆ¬ | defstructå±•é–‹å¾Œã®ã‚³ãƒ¼ãƒ‰ |
| `svref` | Â§15.2 | simple-vectorç”¨ | defstructå±•é–‹å¾Œã®ã‚³ãƒ¼ãƒ‰ |
| `schar` | Â§16.3 | æ–‡å­—åˆ—ã‚¢ã‚¯ã‚»ã‚¹ | æ–‡å­—åˆ—å‡¦ç† |
| `elt` | Â§17.3 | æ±ç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å‡¦ç† |
| `make-string` | Â§16.3 | æ–‡å­—åˆ—ç”Ÿæˆ | æ–‡å­—åˆ—å‡¦ç† |
| `concatenate` | Â§17.3 | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹çµåˆ | æ–‡å­—åˆ—ãƒ»ãƒªã‚¹ãƒˆå‡¦ç† |
| `subseq` | Â§17.3 | éƒ¨åˆ†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | å¤šæ•° |

**ã‚«ãƒ†ã‚´ãƒª2: ãƒã‚¯ãƒ­å±•é–‹ï¼ˆã‚«ãƒ†ã‚´ãƒª1ã«ä¾å­˜ï¼‰**

| ãƒã‚¯ãƒ­ | å¤±æ•—æ•° | çŠ¶æ…‹ | å‚™è€ƒ |
|-------|-------|------|------|
| `defstruct` | 90ä»¶ | å±•é–‹ã•ã‚Œã‚‹ | å±•é–‹å¾Œã‚³ãƒ¼ãƒ‰ãŒaref/svrefä½¿ç”¨ã§å¤±æ•— |
| `define-condition` | 17ä»¶ | å±•é–‹ã•ã‚Œã‚‹ | defstructåŒæ§˜ |
| `in-package` | 49ä»¶ | ç„¡è¦–å¯ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ– |
| `defpackage` | 9ä»¶ | ç„¡è¦–å¯ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ– |
| `declaim` | 3ä»¶ | ç„¡è¦–å¯ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ– |

**ã‚«ãƒ†ã‚´ãƒª3: åˆ¶å¾¡æ§‹é€ ã®æ‹¡å¼µ**

| æ©Ÿèƒ½ | å¤±æ•—æ•° | å¯¾å¿œæ–¹é‡ |
|-----|-------|---------|
| `handler-case` | 3ä»¶ | Wasm try-tableå¤‰æ› |
| LOOP hash-table | 40ä»¶ | `being the hash-keys`ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| `labels` ç›¸äº’å†å¸° | 6ä»¶ | é–¢æ•°ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‰æ–¹å‚ç…§ |
| `values` ç‰¹æ®Šå½¢å¼ | 18ä»¶ | ASTå‡¦ç†è¿½åŠ  |
| `the` å‹å®£è¨€ | 18ä»¶ | ç„¡è¦–ã¾ãŸã¯å‹æƒ…å ±æ´»ç”¨ |

**ã‚«ãƒ†ã‚´ãƒª4: ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ åˆæœŸåŒ–ï¼‰**

| å¤‰æ•° | ç”¨é€” | å¯¾å¿œæ–¹é‡ |
|-----|------|---------|
| `*current-package*` | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  | defvar + åˆæœŸåŒ– |
| `*standard-output*` | I/O | FFIçµŒç”±åˆæœŸåŒ– |
| `*macro-registry*` | ãƒã‚¯ãƒ­å±•é–‹ | ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ– |
| ãã®ä»–55ç¨®é¡ | å„ç¨® | é †æ¬¡å®šç¾© |

#### å„ªå…ˆé †ä½ä»˜ãã‚¿ã‚¹ã‚¯ï¼ˆ2025-12-29 ä¿®æ­£ï¼‰

> **æ–¹é‡å¤‰æ›´**: ä»¥å‰ã¯ã€Œå†…éƒ¨é–¢æ•°ã‚’ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ç™»éŒ²ã€ã¨ã—ã¦ã„ãŸãŒã€
> æ­£ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ŒANSI CLæ¨™æº–é–¢æ•°ã‚’ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…ã€ã§ã‚ã‚‹ã€‚
> å†…éƒ¨é–¢æ•°ï¼ˆmake-ast-literal, encode-unsigned-leb128ç­‰ï¼‰ã¯
> é€šå¸¸ã®defunã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã¹ãã§ã‚ã‚Šã€
> ãã®ãŸã‚ã«ã¯ã“ã‚Œã‚‰ãŒä½¿ç”¨ã™ã‚‹ANSI CLé–¢æ•°ã‚’å…ˆã«å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

**Phase 13D-1: ANSI CLé…åˆ—ãƒ»ã‚·ãƒ¼ã‚±ãƒ³ã‚¹é–¢æ•° (P1 - æœ€å„ªå…ˆ)**

defstructå±•é–‹å¾Œã®ã‚³ãƒ¼ãƒ‰ã€leb128.lispç­‰ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„æ ¹æœ¬åŸå› ã‚’è§£æ±ºã€‚

```lisp
;; å®Ÿè£…ãŒå¿…è¦ãªãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ï¼ˆANSI CLä»•æ§˜æº–æ‹ ï¼‰
aref     ;; é…åˆ—è¦ç´ ã‚¢ã‚¯ã‚»ã‚¹ â†’ Wasm array.get
svref    ;; simple-vectorè¦ç´ ã‚¢ã‚¯ã‚»ã‚¹ â†’ Wasm array.get
schar    ;; æ–‡å­—åˆ—æ–‡å­—ã‚¢ã‚¯ã‚»ã‚¹ â†’ Wasm array.get (i8)
elt      ;; æ±ç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ â†’ typecaseã§åˆ†å²
coerce   ;; å‹å¤‰æ› â†’ ãƒªã‚¹ãƒˆâ†’é…åˆ—ç­‰ã®å¤‰æ›
```

- [ ] `aref` / `svref` å®Ÿè£… (array.getå‘½ä»¤)
- [ ] `(setf aref)` / `(setf svref)` å®Ÿè£… (array.setå‘½ä»¤)
- [ ] `schar` / `(setf schar)` å®Ÿè£…
- [ ] `elt` / `(setf elt)` å®Ÿè£… (typecaseåˆ†å²)
- [ ] `coerce` å®Ÿè£… (listâ†’vector, vectorâ†’listç­‰)

**Phase 13D-2: ANSI CL ã‚·ãƒ¼ã‚±ãƒ³ã‚¹æ“ä½œé–¢æ•° (P1)** âœ… MVPå®Œäº† (001-ansi-sequence-operations)

```lisp
;; å®Ÿè£…æ¸ˆã¿ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ– (string-only MVP)
subseq       ;; âœ… éƒ¨åˆ†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹æŠ½å‡º (stringç”¨)
concatenate  ;; âœ… ã‚·ãƒ¼ã‚±ãƒ³ã‚¹çµåˆ (stringç”¨)
make-string  ;; âœ… æ–‡å­—åˆ—ç”Ÿæˆ
make-array   ;; âœ… é…åˆ—ç”Ÿæˆæ‹¡å¼µ (:initial-element, :initial-contents)
copy-seq     ;; âœ… ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚³ãƒ”ãƒ¼ (stringç”¨ã€subseqçµŒç”±)
array.copy   ;; âœ… Wasm instruction emission

;; å»¶æœŸ (vector/listå¯¾å¿œã¯MVPç¯„å›²å¤–)
subseq       ;; ğŸ”œ vector/listå¯¾å¿œ
concatenate  ;; ğŸ”œ vector/listå¯¾å¿œ
copy-seq     ;; ğŸ”œ vector/listå¯¾å¿œ
```

- [x] `subseq` å®Ÿè£… (string-only)
- [x] `concatenate` å®Ÿè£… (string-only)
- [x] `make-string` å®Ÿè£…
- [x] `make-array` æ‹¡å¼µï¼ˆ:initial-element, :initial-contentsï¼‰
- [x] `copy-seq` å®Ÿè£… (string-only)
- [x] `array.copy` Wasm instruction emission
- [ ] vector/listå¯¾å¿œ (å»¶æœŸ - Phase 13D-2b)

**Phase 13D-3: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å‡¦ç† (P1)**

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ãƒ»ç„¡è¦–ã™ã¹ããƒ•ã‚©ãƒ¼ãƒ ã®å‡¦ç†ã€‚

- [ ] `in-package` â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è©•ä¾¡ã€ASTç”Ÿæˆãªã—
- [ ] `defpackage` â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è©•ä¾¡ã€ASTç”Ÿæˆãªã—
- [ ] `declaim` â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è©•ä¾¡ï¼ˆæœ€é©åŒ–ãƒ’ãƒ³ãƒˆï¼‰ã€ASTç”Ÿæˆãªã—
- [ ] `proclaim` â†’ åŒä¸Š

**Phase 13D-4: ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°å®šç¾© (P2)**

58ç¨®é¡ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’å®šç¾©ã€‚

- [ ] ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ¬ã‚¸ã‚¹ãƒˆãƒª (`*macro-registry*`, `*function-registry*` ç­‰)
- [ ] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  (`*current-package*`, `*packages*` ç­‰)
- [ ] I/Oã‚¹ãƒˆãƒªãƒ¼ãƒ  (`*standard-output*`, `*standard-input*`)
- [ ] æ¡ä»¶ã‚·ã‚¹ãƒ†ãƒ  (`*restart-clusters*`, `*handler-clusters*`)

**Phase 13D-5: LOOPæ‹¡å¼µ (P2)**

- [ ] hash-tableã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (`being the hash-keys`)
- [ ] è¤‡åˆå¤‰æ•°åˆ†è§£ (`for (key val) being...`)
- [ ] `with` å¥å®Œå…¨ã‚µãƒãƒ¼ãƒˆ

**Phase 13D-6: åˆ¶å¾¡æ§‹é€ æ‹¡å¼µ (P2)**

- [ ] `handler-case` â†’ Wasm try-tableå¤‰æ›
- [ ] `labels`/`flet` ç›¸äº’å†å¸°
- [ ] `values` ç‰¹æ®Šå½¢å¼ã®ASTå‡¦ç†
- [ ] `the` å‹å®£è¨€ï¼ˆç„¡è¦–ã¾ãŸã¯å‹æƒ…å ±æ´»ç”¨ï¼‰

#### ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•

```
Phase 13D-1: aref/svref/coerceå®Ÿè£…
    â”‚
    â”œâ”€â”€â†’ defstructå±•é–‹å¾Œã®ã‚³ãƒ¼ãƒ‰ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã«
    â”‚         â”‚
    â”‚         â””â”€â”€â†’ make-ast-literal, ast-literal-valueç­‰ãŒå‹•ä½œ
    â”‚
    â””â”€â”€â†’ encode-unsigned-leb128ç­‰ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã«
              â”‚
              â””â”€â”€â†’ backend/leb128.lisp å…¨ä½“ãŒå‹•ä½œ

Phase 13D-2: subseq/concatenateå®Ÿè£…
    â”‚
    â””â”€â”€â†’ reader, compiler ã®æ–‡å­—åˆ—å‡¦ç†ãŒå‹•ä½œ

Phase 13D-3: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–
    â”‚
    â””â”€â”€â†’ in-packageç­‰ã«ã‚ˆã‚‹å¤±æ•—61ä»¶ãŒè§£æ±º

Phase 13D-4-6: ä¸¦è¡Œã—ã¦å®Ÿè£…å¯èƒ½
```

#### Stage 1ç”Ÿæˆãƒ»æ¤œè¨¼ã‚¿ã‚¹ã‚¯

**Phase 13D-7: Stage 1ç”Ÿæˆ**
- [ ] SBCLä¸Šã§Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å…¨ä½“ã‚’ãƒ­ãƒ¼ãƒ‰
- [ ] å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆç´„45,000è¡Œï¼‰ã‚’Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
- [ ] å˜ä¸€Wasmãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦å‡ºåŠ›
- [ ] `wasm-tools validate` ãƒ‘ã‚¹

**Phase 13D-8: Stage 1å®Ÿè¡Œç’°å¢ƒ**
- [ ] Node.js host-shim ã§Stage 1ã‚’å®Ÿè¡Œ
- [ ] FFIçµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«I/Oæä¾›
- [ ] Stage 1ã® `compile_form` ãŒå‹•ä½œç¢ºèª

**Phase 13D-9: å›ºå®šç‚¹é”æˆ**
- [ ] Stage 1ã§Clysmè‡ªèº«ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« â†’ Stage 2
- [ ] Stage 1 == Stage 2 (ãƒã‚¤ãƒˆå˜ä½ä¸€è‡´)
- [ ] `./scripts/verify-fixpoint.sh` ã§ACHIEVED

#### æ¤œè¨¼åŸºæº–
```bash
# Step 1: SBCLä¸Šã§Stage 1ç”Ÿæˆ
sbcl --load build/stage1-gen.lisp
wasm-tools validate dist/clysm-stage1.wasm
ls -la dist/clysm-stage1.wasm  # æ•°ç™¾KBä»¥ä¸Š

# Step 2: Node.jsä¸Šã§Stage 1å®Ÿè¡Œ
node host-shim/stage1-host.js --mode compile \
  --stage1 dist/clysm-stage1.wasm \
  --output dist/clysm-stage2.wasm

# Step 3: å›ºå®šç‚¹æ¤œè¨¼
./scripts/verify-fixpoint.sh --json
# => {"status": "ACHIEVED", ...}
```

#### æˆåŠŸæŒ‡æ¨™

| æŒ‡æ¨™ | ç¾åœ¨ | ç›®æ¨™ |
|-----|------|------|
| ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç‡ | 12.9% (112/868) | 80%+ |
| Stage 1ã‚µã‚¤ã‚º | 17ãƒã‚¤ãƒˆ (ã‚¹ã‚¿ãƒ–) | 100KB+ |
| å›ºå®šç‚¹ | æœªé”æˆ | Stage 1 == Stage 2 |

---

## 3. ANSI TestsæˆåŠŸç‡å‘ä¸Šæˆ¦ç•¥

**ç›®æ¨™**: ANSIæº–æ‹ ç‡ã‚’23.4% â†’ 60%+ã¸å‘ä¸Šï¼ˆè‡ªå·±ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆã¨ä¸¦è¡Œï¼‰

**åŸå‰‡**: **Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½ã»ã©å®Ÿè£…å„ªå…ˆåº¦ãŒé«˜ã„**

ã“ã‚Œã«ã‚ˆã‚Šã€ANSIãƒ†ã‚¹ãƒˆæˆåŠŸç‡å‘ä¸Šã¨ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆã®ä¸¡æ–¹ã‚’åŒæ™‚ã«é€²ã‚ã‚‹ã€‚

### 3.1 å„ªå…ˆåº¦åˆ¤å®šåŸºæº–

| å„ªå…ˆåº¦ | åŸºæº– | Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã®ä½¿ç”¨æ•° |
|--------|------|------------------------|
| P1 (æœ€å„ªå…ˆ) | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚³ã‚¢æ©Ÿèƒ½ã§é »å‡º | 500å›ä»¥ä¸Š |
| P2 (é«˜) | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§å¤šç”¨ | 100-499å› |
| P3 (ä¸­) | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ä½¿ç”¨ | 10-99å› |
| P4 (ä½) | ANSIæº–æ‹ ã®ã¿ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©éä½¿ç”¨ | 0-9å› |

### 3.2 P1: æœ€å„ªå…ˆå®Ÿè£… (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚³ã‚¢æ©Ÿèƒ½)

ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã¯Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ä½¿ç”¨ã•ã‚Œã€ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã®**å¿…é ˆæ¡ä»¶**ã€‚

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | é–¢æ•°/ãƒã‚¯ãƒ­ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ä½¿ç”¨æ•° | ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª | å®Ÿè£…çŠ¶æ…‹ |
|-------------|------------|----------------|------------------|---------|
| **ãƒªã‚¹ãƒˆæ“ä½œ** | cons, car, cdr, list, append | 1,200+ | cons | âœ… åŸºæœ¬æ¸ˆ |
| **ã‚·ãƒ¼ã‚±ãƒ³ã‚¹** | length, elt, subseq, concatenate | 600+ | sequences | âš ï¸ ä¸€éƒ¨ |
| **å¤‰æ•°æŸç¸›** | let, let*, setq, setf | 1,300+ | data-and-control-flow | âœ… åŸºæœ¬æ¸ˆ |
| **æ¡ä»¶åˆ†å²** | if, cond, when, unless, case | 700+ | data-and-control-flow | âœ… åŸºæœ¬æ¸ˆ |
| **åå¾©** | loop, dolist, dotimes, do | 600+ | iteration | âš ï¸ loopä¸€éƒ¨ |
| **ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«** | make-hash-table, gethash, (setf gethash) | 310+ | hash-tables | âš ï¸ ä¸€éƒ¨ |
| **é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹** | aref, svref, (setf aref), make-array | 200+ | arrays | âŒ æœªå®Ÿè£… |
| **ç­‰ä¾¡æ€§** | eq, eql, equal, equalp | 326+ | data-and-control-flow | âœ… å®Ÿè£…æ¸ˆ |

#### P1ã‚¿ã‚¹ã‚¯è©³ç´°

**P1-1: é…åˆ—ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–** (æœ€é‡è¦ - defstructå±•é–‹å¾Œã‚³ãƒ¼ãƒ‰ã«å¿…é ˆ)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§200+ç®‡æ‰€ä½¿ç”¨
(aref array index)           ;; â†’ Wasm array.get
(svref simple-vector index)  ;; â†’ Wasm array.get
(setf (aref array index) val);; â†’ Wasm array.set
(make-array dimensions ...)  ;; â†’ Wasm array.new
```

- [ ] `aref` / `(setf aref)` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] `svref` / `(setf svref)` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] `make-array` å®Œå…¨å®Ÿè£… (:initial-element, :initial-contents)
- [ ] ANSIãƒ†ã‚¹ãƒˆ: arrays ã‚«ãƒ†ã‚´ãƒª 50%+

**P1-2: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹åŸºç›¤** (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æ–‡å­—åˆ—å‡¦ç†ã«å¿…é ˆ)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§600+ç®‡æ‰€ä½¿ç”¨
(length sequence)            ;; âœ… å®Ÿè£…æ¸ˆ
(elt sequence index)         ;; â†’ typecaseåˆ†å²
(subseq sequence start end)  ;; â†’ æ–°é…åˆ—ã«ã‚³ãƒ”ãƒ¼
(concatenate 'string ...)    ;; â†’ æ–‡å­—åˆ—çµåˆ
(coerce list 'vector)        ;; â†’ å‹å¤‰æ›
```

- [ ] `elt` / `(setf elt)` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] `subseq` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] `concatenate` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] `coerce` ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…
- [ ] ANSIãƒ†ã‚¹ãƒˆ: sequences ã‚«ãƒ†ã‚´ãƒª 40%+

**P1-3: ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«å®Œå…¨å®Ÿè£…** (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«å¿…é ˆ)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§310+ç®‡æ‰€ä½¿ç”¨
(make-hash-table :test 'eq)  ;; âš ï¸ :testå¯¾å¿œè¦
(gethash key table default)  ;; âš ï¸ defaultå¯¾å¿œè¦
(remhash key table)          ;; âŒ æœªå®Ÿè£…
(maphash fn table)           ;; âŒ æœªå®Ÿè£…
(clrhash table)              ;; âŒ æœªå®Ÿè£…
(hash-table-count table)     ;; âŒ æœªå®Ÿè£…
```

- [ ] `gethash` defaultå¼•æ•°å¯¾å¿œ
- [ ] `remhash` å®Ÿè£…
- [ ] `maphash` å®Ÿè£…
- [ ] `clrhash` å®Ÿè£…
- [ ] `hash-table-count` å®Ÿè£…
- [ ] LOOP `being the hash-keys` å¯¾å¿œ
- [ ] ANSIãƒ†ã‚¹ãƒˆ: hash-tables ã‚«ãƒ†ã‚´ãƒª 60%+

**P1-4: LOOPå®Œå…¨å®Ÿè£…** (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§168ç®‡æ‰€ä½¿ç”¨)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§é »å‡ºã™ã‚‹LOOPãƒ‘ã‚¿ãƒ¼ãƒ³
(loop for x in list ...)           ;; âœ… åŸºæœ¬æ¸ˆ
(loop for i from 0 below n ...)    ;; âœ… åŸºæœ¬æ¸ˆ
(loop for k being the hash-keys of ht ...) ;; âŒ æœªå®Ÿè£…
(loop with var = init ...)         ;; âš ï¸ ä¸€éƒ¨
(loop collect x into result ...)   ;; âš ï¸ ä¸€éƒ¨
(loop finally (return result))     ;; âš ï¸ ä¸€éƒ¨
```

- [ ] `being the hash-keys/hash-values` å®Ÿè£…
- [ ] `with` å¥å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- [ ] `finally` å¥å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- [ ] `into` ã‚¢ã‚­ãƒ¥ãƒ ãƒ¬ãƒ¼ã‚¿
- [ ] ANSIãƒ†ã‚¹ãƒˆ: iteration (loop) ã‚«ãƒ†ã‚´ãƒª 50%+

### 3.3 P2: é«˜å„ªå…ˆåº¦å®Ÿè£… (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§å¤šç”¨)

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | é–¢æ•°/ãƒã‚¯ãƒ­ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ä½¿ç”¨æ•° | ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª | å®Ÿè£…çŠ¶æ…‹ |
|-------------|------------|----------------|------------------|---------|
| **ãƒªã‚¹ãƒˆæ¤œç´¢** | member, assoc, find, position | 200+ | cons, sequences | âš ï¸ ä¸€éƒ¨ |
| **ãƒãƒƒãƒ”ãƒ³ã‚°** | mapcar, mapc, mapcan | 200+ | cons | âš ï¸ mapcarã®ã¿ |
| **å‹æ¤œæŸ»** | typep, type-of, typecase | 100+ | types | âš ï¸ ä¸€éƒ¨ |
| **æ–‡å­—åˆ—** | string=, string<, char-code | 100+ | strings, characters | âš ï¸ ä¸€éƒ¨ |
| **ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£** | getf, get, (setf getf) | 118+ | symbols | âš ï¸ ä¸€éƒ¨ |
| **è¿°èª** | listp, consp, symbolp, stringp | 150+ | data-and-control-flow | âœ… åŸºæœ¬æ¸ˆ |

#### P2ã‚¿ã‚¹ã‚¯è©³ç´°

**P2-1: ãƒªã‚¹ãƒˆæ¤œç´¢é–¢æ•°** (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è§£æã§ä½¿ç”¨)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§200+ç®‡æ‰€ä½¿ç”¨
(member item list :test #'eq)    ;; âš ï¸ :testå¯¾å¿œè¦
(assoc key alist :test #'eq)     ;; âš ï¸ :testå¯¾å¿œè¦
(find item sequence :key #'fn)   ;; âŒ æœªå®Ÿè£…
(position item sequence ...)     ;; âŒ æœªå®Ÿè£…
```

- [ ] `member` :test, :key ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¯¾å¿œ
- [ ] `assoc` / `rassoc` :test, :key ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¯¾å¿œ
- [ ] `find` / `find-if` / `find-if-not` å®Ÿè£…
- [ ] `position` / `position-if` / `position-if-not` å®Ÿè£…
- [ ] ANSIãƒ†ã‚¹ãƒˆ: cons (assoc/member) 60%+

**P2-2: ãƒãƒƒãƒ”ãƒ³ã‚°é–¢æ•°** (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ASTå‡¦ç†ã§ä½¿ç”¨)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§200+ç®‡æ‰€ä½¿ç”¨
(mapcar #'fn list)      ;; âœ… åŸºæœ¬æ¸ˆ
(mapc #'fn list)        ;; âŒ æœªå®Ÿè£…
(mapcan #'fn list)      ;; âŒ æœªå®Ÿè£…
(maplist #'fn list)     ;; âŒ æœªå®Ÿè£…
```

- [ ] `mapc` å®Ÿè£… (å‰¯ä½œç”¨ç”¨mapcar)
- [ ] `mapcan` å®Ÿè£… (çµæœã‚’nconc)
- [ ] `maplist` / `mapl` å®Ÿè£…
- [ ] ANSIãƒ†ã‚¹ãƒˆ: cons (mapç³») 70%+

**P2-3: æ–‡å­—åˆ—æ“ä½œ** (ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€I/Oå‡¦ç†)

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§100+ç®‡æ‰€ä½¿ç”¨
(string= str1 str2)           ;; âš ï¸ ä¸€éƒ¨
(char str index)              ;; â†’ schar
(string-upcase str)           ;; âŒ æœªå®Ÿè£…
(parse-integer str)           ;; âŒ æœªå®Ÿè£…
```

- [ ] `string=`, `string<`, `string>` å®Œå…¨å®Ÿè£…
- [ ] `char` / `schar` å®Ÿè£…
- [ ] `string-upcase` / `string-downcase` å®Ÿè£…
- [ ] `parse-integer` å®Ÿè£…
- [ ] ANSIãƒ†ã‚¹ãƒˆ: strings ã‚«ãƒ†ã‚´ãƒª 50%+

**P2-4: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒªã‚¹ãƒˆ** (CLOSã€æ¡ä»¶ã‚·ã‚¹ãƒ†ãƒ )

```lisp
;; ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§118+ç®‡æ‰€ä½¿ç”¨
(getf plist key)              ;; âš ï¸ ä¸€éƒ¨
(get symbol key)              ;; âš ï¸ ä¸€éƒ¨
(setf (getf plist key) val)   ;; âŒ æœªå®Ÿè£…
```

- [ ] `getf` å®Œå…¨å®Ÿè£… (defaultå¼•æ•°)
- [ ] `(setf getf)` å®Ÿè£…
- [ ] `get` / `(setf get)` å®Ÿè£…
- [ ] `remprop` å®Ÿè£…
- [ ] ANSIãƒ†ã‚¹ãƒˆ: symbols (plist) 60%+

### 3.4 P3: ä¸­å„ªå…ˆåº¦å®Ÿè£… (ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ä½¿ç”¨)

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | é–¢æ•°/ãƒã‚¯ãƒ­ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ä½¿ç”¨æ•° | ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª |
|-------------|------------|----------------|------------------|
| **æ•°å€¤é–¢æ•°** | abs, max, min, mod, rem | 50+ | numbers |
| **ãƒªã‚¹ãƒˆæ§‹ç¯‰** | push, pop, nconc, nreverse | 80+ | cons |
| **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** | format ~A ~S ~D | 93+ | printer |
| **åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼** | return-from, block, tagbody | 50+ | data-and-control-flow |
| **æ¡ä»¶** | handler-case, restart-case | 20+ | conditions |
| **é–¢æ•°** | apply, funcall, function | 90+ | data-and-control-flow |

### 3.5 P4: ä½å„ªå…ˆåº¦ (ANSIæº–æ‹ ã®ã¿)

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã¯ä½¿ç”¨ã•ã‚Œãªã„ãŒã€ANSIãƒ†ã‚¹ãƒˆæˆåŠŸç‡ã®ãŸã‚ã«å®Ÿè£…ã€‚

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª | å‚™è€ƒ |
|-------------|------------------|------|
| ä¸‰è§’é–¢æ•° (sin, cos, tan) | numbers | æ•°å­¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| åŒæ›²ç·šé–¢æ•° (sinh, cosh) | numbers | æ•°å­¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| è¤‡ç´ æ•° (complex, realpart) | numbers | æ•°å€¤å¡” |
| ãƒ•ã‚¡ã‚¤ãƒ«é–¢æ•° (probe-fileç­‰) | files | FFIä¾å­˜ |
| ç’°å¢ƒé–¢æ•° (get-decoded-timeç­‰) | environment | FFIä¾å­˜ |

### 3.6 ANSIãƒ†ã‚¹ãƒˆæˆåŠŸç‡ç›®æ¨™

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | ç›®æ¨™æº–æ‹ ç‡ | ä¸»è¦ã‚¿ã‚¹ã‚¯ |
|--------------|-----------|-----------|
| M-ANSI-1 | 30% | P1-1 (é…åˆ—), P1-2 (ã‚·ãƒ¼ã‚±ãƒ³ã‚¹) |
| M-ANSI-2 | 40% | P1-3 (ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«), P1-4 (LOOP) |
| M-ANSI-3 | 50% | P2-1ã€œP2-4 |
| M-ANSI-4 | 60% | P3å…¨ä½“ |

### 3.7 å®Ÿè£…é †åºï¼ˆä¾å­˜é–¢ä¿‚è€ƒæ…®ï¼‰

```
Week 1-2: P1-1 é…åˆ—ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–
    â”‚
    â”œâ”€â”€â†’ defstructå±•é–‹å¾Œã‚³ãƒ¼ãƒ‰ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã«
    â”‚
    â–¼
Week 3-4: P1-2 ã‚·ãƒ¼ã‚±ãƒ³ã‚¹åŸºç›¤
    â”‚
    â”œâ”€â”€â†’ æ–‡å­—åˆ—å‡¦ç†ã€ãƒªã‚¹ãƒˆâ†’é…åˆ—å¤‰æ›ãŒå‹•ä½œ
    â”‚
    â–¼
Week 5-6: P1-3 ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«å®Œå…¨å®Ÿè£…
    â”‚
    â”œâ”€â”€â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãŒå®Œå…¨å‹•ä½œ
    â”‚
    â–¼
Week 7-8: P1-4 LOOPå®Œå…¨å®Ÿè£…
    â”‚
    â”œâ”€â”€â†’ ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    â”‚
    â–¼
Week 9-12: P2-1ã€œP2-4 é«˜å„ªå…ˆåº¦
    â”‚
    â”œâ”€â”€â†’ ANSIæº–æ‹ ç‡ 50%é”æˆ
    â”‚
    â–¼
Week 13+: P3, P4 ä¸­ã€œä½å„ªå…ˆåº¦
    â”‚
    â””â”€â”€â†’ ANSIæº–æ‹ ç‡ 60%+é”æˆ
```

### 3.8 ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒªåˆ¥ç›®æ¨™

| ã‚«ãƒ†ã‚´ãƒª | ç¾åœ¨ | ç›®æ¨™ | å„ªå…ˆåº¦ | æ ¹æ‹  |
|---------|------|------|--------|------|
| cons | 45% | 80% | P1 | car/cdr/append=1,200+ä½¿ç”¨ |
| sequences | 20% | 60% | P1 | length/elt=600+ä½¿ç”¨ |
| arrays | 5% | 50% | P1 | aref=200+ä½¿ç”¨ |
| hash-tables | 10% | 70% | P1 | gethash=310+ä½¿ç”¨ |
| iteration | 30% | 60% | P1 | loop=168+ä½¿ç”¨ |
| strings | 15% | 50% | P2 | stringå‡¦ç†=100+ä½¿ç”¨ |
| characters | 20% | 60% | P2 | char-code=11+ä½¿ç”¨ |
| symbols | 30% | 60% | P2 | getf=118+ä½¿ç”¨ |
| numbers | 40% | 60% | P3 | æ•°å€¤æ¼”ç®—=50+ä½¿ç”¨ |
| data-and-control-flow | 35% | 55% | P1 | if/cond=700+ä½¿ç”¨ |
| conditions | 25% | 45% | P3 | handler-case=20+ä½¿ç”¨ |
| types | 20% | 50% | P2 | typep=71+ä½¿ç”¨ |

---

## 4. ANSIæº–æ‹ ç‡å‘ä¸Šãƒ•ã‚§ãƒ¼ã‚º (Phase 14-17)

**ç¾åœ¨ã®æº–æ‹ ç‡**: 23.4% (219/936ãƒ†ã‚¹ãƒˆ)
**ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ**: pfdietz/ansi-test (~20,000ãƒ†ã‚¹ãƒˆã€31ã‚«ãƒ†ã‚´ãƒª)

### Phase 14: æ•°å€¤ãƒ»ç®—è¡“å¼·åŒ– (ANSI-Numbers) ğŸ”œ æ¬¡ãƒ•ã‚§ãƒ¼ã‚º

**ç›®æ¨™**: æ•°å€¤é–¢é€£ãƒ†ã‚¹ãƒˆæº–æ‹ ç‡ 50%+

ç¾åœ¨ã®`numbers`ã‚«ãƒ†ã‚´ãƒªã¯92ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒã¤æœ€å¤§ã‚«ãƒ†ã‚´ãƒªã€‚

#### 14A: åŸºæœ¬ç®—è¡“é–¢æ•°æ‹¡å¼µ

```lisp
;; ç¾åœ¨ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿
(+ - * / mod rem floor ceiling truncate round)

;; è¿½åŠ ãŒå¿…è¦
(abs signum max min gcd lcm expt log exp sqrt)
(sin cos tan asin acos atan sinh cosh tanh)
(ash logand logior logxor lognot logcount)
(complex realpart imagpart conjugate phase)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] ä¸‰è§’é–¢æ•°ç¾¤ (sin, cos, tan, asin, acos, atan)
- [ ] åŒæ›²ç·šé–¢æ•°ç¾¤ (sinh, cosh, tanh, asinh, acosh, atanh)
- [ ] ãƒ“ãƒƒãƒˆæ¼”ç®—é–¢æ•° (ash, logand, logior, logxor, lognot)
- [ ] è¤‡ç´ æ•°æ¼”ç®— (complex, realpart, imagpart)
- [ ] æ•°å­¦é–¢æ•° (exp, log, sqrt, expt)

#### 14B: æ•°å€¤å‹è¿°èªå¼·åŒ–

```lisp
;; è¿½åŠ ãŒå¿…è¦ãªè¿°èª
(plusp minusp zerop oddp evenp)
(integer-length logbitp logtest)
(byte byte-size byte-position ldb dpb)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] ç¬¦å·è¿°èª (plusp, minusp, zerop)
- [ ] ãƒ‘ãƒªãƒ†ã‚£è¿°èª (oddp, evenp)
- [ ] ãƒ“ãƒƒãƒˆæ“ä½œ (byte, ldb, dpb, mask-field)

#### 14C: æ•°å€¤å¤‰æ›ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```lisp
(parse-integer "123") ; => 123
(write-to-string 42 :base 16) ; => "2A"
(float 3/2) ; => 1.5
(rationalize 0.5) ; => 1/2
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] `parse-integer` å®Œå…¨å®Ÿè£…
- [ ] `float`, `rational`, `rationalize` å¤‰æ›
- [ ] åŸºæ•°å¤‰æ› (2é€², 8é€², 16é€²)

#### æ¤œè¨¼åŸºæº–

- [ ] `(sin (/ pi 2))` => 1.0 (è¨±å®¹èª¤å·® 1e-10)
- [ ] `(ash 1 10)` => 1024
- [ ] `(logand #xFF00 #x0FF0)` => #x0F00
- [ ] numbers ã‚«ãƒ†ã‚´ãƒª 50%+ ãƒ‘ã‚¹

---

### Phase 15: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãƒ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å¼·åŒ– (ANSI-Sequences)

**ç›®æ¨™**: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹é–¢é€£ãƒ†ã‚¹ãƒˆæº–æ‹ ç‡ 60%+

#### 15A: ãƒªã‚¹ãƒˆæ“ä½œæ‹¡å¼µ

```lisp
;; è¿½åŠ ãŒå¿…è¦
(butlast nbutlast last nth nthcdr)
(adjoin pushnew intersection union set-difference)
(subsetp member member-if member-if-not)
(assoc assoc-if rassoc rassoc-if)
(pairlis acons copy-alist)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] ãƒªã‚¹ãƒˆæœ«å°¾æ“ä½œ (butlast, last, nth, nthcdr)
- [ ] é›†åˆæ¼”ç®— (intersection, union, set-difference, subsetp)
- [ ] é€£æƒ³ãƒªã‚¹ãƒˆæ“ä½œ (assoc, rassoc, pairlis)

#### 15B: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹æ±ç”¨é–¢æ•°

```lisp
;; è¿½åŠ ãŒå¿…è¦
(count count-if count-if-not)
(position position-if position-if-not)
(find find-if find-if-not)
(remove-duplicates delete-duplicates)
(mismatch search)
(substitute substitute-if nsubstitute nsubstitute-if)
(replace fill)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] æ¤œç´¢é–¢æ•° (count, position, find) å®Œå…¨å®Ÿè£…
- [ ] ç½®æ›é–¢æ•° (substitute, replace)
- [ ] é‡è¤‡å‰Šé™¤ (remove-duplicates, delete-duplicates)
- [ ] æ¯”è¼ƒé–¢æ•° (mismatch, search)

#### 15C: é…åˆ—æ“ä½œ

```lisp
;; è¿½åŠ ãŒå¿…è¦
(array-rank array-dimension array-dimensions)
(array-total-size array-row-major-index)
(adjust-array make-array :adjustable)
(row-major-aref)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] é…åˆ—å±æ€§ã‚¢ã‚¯ã‚»ã‚µå®Œå…¨å®Ÿè£…
- [ ] å¤šæ¬¡å…ƒé…åˆ—ã‚µãƒãƒ¼ãƒˆå¼·åŒ–
- [ ] èª¿æ•´å¯èƒ½é…åˆ— (adjustable-array-p)

#### æ¤œè¨¼åŸºæº–

- [ ] `(count 1 '(1 2 1 3 1))` => 3
- [ ] `(intersection '(1 2 3) '(2 3 4))` => (2 3) or (3 2)
- [ ] `(remove-duplicates '(a b a c b))` => (A B C) or equivalent
- [ ] sequences ã‚«ãƒ†ã‚´ãƒª 60%+ ãƒ‘ã‚¹
- [ ] cons ã‚«ãƒ†ã‚´ãƒª 50%+ ãƒ‘ã‚¹

---

### Phase 16: æ–‡å­—åˆ—ãƒ»æ–‡å­—å¼·åŒ– (ANSI-Strings)

**ç›®æ¨™**: æ–‡å­—åˆ—ãƒ»æ–‡å­—ãƒ†ã‚¹ãƒˆæº–æ‹ ç‡ 70%+

#### 16A: æ–‡å­—é–¢æ•°

```lisp
;; è¿½åŠ ãŒå¿…è¦
(char-upcase char-downcase)
(alpha-char-p digit-char-p alphanumericp)
(upper-case-p lower-case-p both-case-p)
(graphic-char-p standard-char-p)
(char-name name-char digit-char)
(char-int int-char)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] ã‚±ãƒ¼ã‚¹å¤‰æ› (char-upcase, char-downcase)
- [ ] æ–‡å­—åˆ†é¡è¿°èªå®Œå…¨å®Ÿè£…
- [ ] æ–‡å­—åå¤‰æ› (char-name, name-char)

#### 16B: æ–‡å­—åˆ—æ“ä½œ

```lisp
;; è¿½åŠ ãŒå¿…è¦
(string-upcase string-downcase string-capitalize)
(nstring-upcase nstring-downcase nstring-capitalize)
(string-trim string-left-trim string-right-trim)
(string= string< string> string<= string>=)
(string-equal string-lessp string-greaterp)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] æ–‡å­—åˆ—ã‚±ãƒ¼ã‚¹å¤‰æ›å®Œå…¨å®Ÿè£…
- [ ] æ–‡å­—åˆ—ãƒˆãƒªãƒ é–¢æ•°
- [ ] æ–‡å­—åˆ—æ¯”è¼ƒé–¢æ•°å®Œå…¨å®Ÿè£…

#### 16C: ãƒ‘ãƒ¼ã‚¹ãƒ»æ§‹ç¯‰

```lisp
(make-string length :initial-element char)
(string object) ; coercion
(schar simple-string element-type)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] æ–‡å­—åˆ—æ§‹ç¯‰é–¢æ•°
- [ ] æ–‡å­—åˆ—å¼·åˆ¶å¤‰æ›

#### æ¤œè¨¼åŸºæº–

- [ ] `(string-upcase "hello")` => "HELLO"
- [ ] `(string-trim " " " test ")` => "test"
- [ ] `(alpha-char-p #\a)` => T
- [ ] strings ã‚«ãƒ†ã‚´ãƒª 70%+ ãƒ‘ã‚¹
- [ ] characters ã‚«ãƒ†ã‚´ãƒª 80%+ ãƒ‘ã‚¹

---

### Phase 17: åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ãƒ»è©•ä¾¡å¼·åŒ– (ANSI-Control)

**ç›®æ¨™**: åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼é–¢é€£ãƒ†ã‚¹ãƒˆæº–æ‹ ç‡ 50%+

#### 17A: LOOPæ‹¡å¼µ

ç¾åœ¨ã®LOOPã¯åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã€‚æ‹¡å¼µãŒå¿…è¦ã€‚

```lisp
;; è¿½åŠ ãŒå¿…è¦ãªLOOPæ©Ÿèƒ½
loop with clause
loop initially/finally
loop named
loop thereis/never/always
loop maximize/minimize
loop hash-table iteration
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] LOOP withå¥å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- [ ] LOOP initially/finallyå¥
- [ ] LOOPé›†ç´„é–¢æ•° (maximize, minimize, sum, count)
- [ ] LOOPçµ‚äº†æ¡ä»¶ (thereis, never, always)

#### 17B: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```lisp
;; å¼·åŒ–ãŒå¿…è¦
(dotimes (i 10) ...)
(dolist (x list) ...)
(do ((i 0 (1+ i))) ((= i 10)) ...)
(do* ...)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] DO/DO*å®Œå…¨å®Ÿè£…
- [ ] çµæœãƒ•ã‚©ãƒ¼ãƒ è©•ä¾¡ã®ä¿®æ­£
- [ ] è¤‡æ•°å¤‰æ•°å®£è¨€ã‚µãƒãƒ¼ãƒˆ

#### 17C: æ¡ä»¶åˆ†å²

```lisp
;; è¿½åŠ ãŒå¿…è¦
(case key
  ((:a :b) 1)
  (otherwise 2))

(ecase ...)
(ccase ...)
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] CASEå®Œå…¨å®Ÿè£… (ã‚­ãƒ¼ãƒªã‚¹ãƒˆã€otherwise)
- [ ] ECASE, CCASEå®Ÿè£…
- [ ] å‹åˆ†å² (typecase) å®Œå…¨ãƒ†ã‚¹ãƒˆ

#### æ¤œè¨¼åŸºæº–

- [ ] LOOP withå¥ãŒANSIãƒ†ã‚¹ãƒˆã‚’ãƒ‘ã‚¹
- [ ] `(do ((i 0 (1+ i)) (sum 0)) ((= i 5) sum) (incf sum i))` => 10
- [ ] data-and-control-flow ã‚«ãƒ†ã‚´ãƒª 40%+ ãƒ‘ã‚¹
- [ ] iteration ã‚«ãƒ†ã‚´ãƒª 50%+ ãƒ‘ã‚¹

---

## 4. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

```
src/clysm/
â”œâ”€â”€ reader/               # Så¼ãƒªãƒ¼ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ tokenizer.lisp    # å­—å¥è§£æ
â”‚   â”œâ”€â”€ parser.lisp       # æ§‹æ–‡è§£æ
â”‚   â””â”€â”€ package.lisp      # ã‚·ãƒ³ãƒœãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³
â”‚
â”œâ”€â”€ compiler/             # ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æœ¬ä½“
â”‚   â”œâ”€â”€ ast.lisp          # æŠ½è±¡æ§‹æ–‡æœ¨å®šç¾©
â”‚   â”œâ”€â”€ analyzer.lisp     # æ„å‘³è§£æ
â”‚   â”‚   â”œâ”€â”€ free-vars.lisp    # è‡ªç”±å¤‰æ•°è§£æ
â”‚   â”‚   â”œâ”€â”€ tail-call.lisp    # æœ«å°¾å‘¼ã³å‡ºã—æ¤œå‡º
â”‚   â”‚   â””â”€â”€ type-infer.lisp   # å‹æ¨è«–ï¼ˆæœ€é©åŒ–ç”¨ï¼‰
â”‚   â”œâ”€â”€ transform/        # ASTå¤‰æ›
â”‚   â”‚   â”œâ”€â”€ closure.lisp      # ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å¤‰æ›
â”‚   â”‚   â”œâ”€â”€ cps.lisp          # CPSå¤‰æ›ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”‚   â”‚   â””â”€â”€ macro.lisp        # ãƒã‚¯ãƒ­å±•é–‹
â”‚   â””â”€â”€ codegen/          # ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
â”‚       â”œâ”€â”€ wasm-ir.lisp      # Wasmä¸­é–“è¡¨ç¾
â”‚       â”œâ”€â”€ type-section.lisp # Type Sectionç”Ÿæˆ
â”‚       â”œâ”€â”€ func-section.lisp # Function/Code Section
â”‚       â””â”€â”€ gc-types.lisp     # WasmGCå‹å®šç¾©
â”‚
â”œâ”€â”€ runtime/              # ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚µãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ objects.lisp      # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¾
â”‚   â”œâ”€â”€ gc-bridge.lisp    # GCé€£æº
â”‚   â”œâ”€â”€ special-vars.lisp # ã‚·ãƒ£ãƒ­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â””â”€â”€ multi-value.lisp  # å¤šå€¤ãƒãƒƒãƒ•ã‚¡
â”‚
â”œâ”€â”€ backend/              # ãƒã‚¤ãƒŠãƒªå‡ºåŠ›
â”‚   â”œâ”€â”€ wasm-emit.lisp    # Wasmãƒã‚¤ãƒŠãƒªã‚¨ãƒŸãƒƒã‚¿
â”‚   â”œâ”€â”€ leb128.lisp       # LEB128ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â”œâ”€â”€ sections.lisp     # ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ 
â”‚   â””â”€â”€ wat-print.lisp    # WATå‡ºåŠ›ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
â”‚
â”œâ”€â”€ eval/                 # å‹•çš„è©•ä¾¡
â”‚   â”œâ”€â”€ interpreter.lisp  # Tier 1ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿
â”‚   â””â”€â”€ jit.lisp          # Tier 2 JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
â”‚
â”œâ”€â”€ clos/                 # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ mop.lisp          # ãƒ¡ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«
â”‚   â”œâ”€â”€ dispatch.lisp     # ãƒ¡ã‚½ãƒƒãƒ‰ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ
â”‚   â””â”€â”€ slot-access.lisp  # ã‚¹ãƒ­ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹
â”‚
â”œâ”€â”€ lib/                  # æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ macros.lisp       # æ¨™æº–ãƒã‚¯ãƒ­ï¼ˆLOOPç­‰ï¼‰
â”‚   â””â”€â”€ setf-expanders.lisp # SETFå±•é–‹å™¨
â”‚
â”œâ”€â”€ ffi/                  # Foreign Function Interface
â”‚   â”œâ”€â”€ marshalling.lisp  # å‹å¤‰æ›
â”‚   â”œâ”€â”€ import-gen.lisp   # ã‚¤ãƒ³ãƒãƒ¼ãƒˆç”Ÿæˆ
â”‚   â””â”€â”€ export-gen.lisp   # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”Ÿæˆ
â”‚
â””â”€â”€ conditions/           # æ¡ä»¶ã‚·ã‚¹ãƒ†ãƒ 
    â”œâ”€â”€ types.lisp        # æ¡ä»¶å‹å®šç¾©
    â”œâ”€â”€ handlers.lisp     # ãƒãƒ³ãƒ‰ãƒ©
    â””â”€â”€ restarts.lisp     # ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ
```

---

## 4. ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—æˆ¦ç•¥

### ã‚¹ãƒ†ãƒ¼ã‚¸1: ãƒ›ã‚¹ãƒˆSBCLã«ã‚ˆã‚‹ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« âœ… ç¾åœ¨

```
SBCL (ãƒ›ã‚¹ãƒˆ) --> Clysm Compiler --> Wasm Module
                        |
                        v
                   [wasmtimeå®Ÿè¡Œ]
```

- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æœ¬ä½“ã¯SBCLã§å®Ÿè¡Œ
- ç”Ÿæˆã•ã‚ŒãŸWasmã‚’wasmtimeã§æ¤œè¨¼ãƒ»å®Ÿè¡Œ

### ã‚¹ãƒ†ãƒ¼ã‚¸2: Stage 0ç”Ÿæˆ (Phase 12)

```
SBCL (ãƒ›ã‚¹ãƒˆ)
      |
      v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clysm Compiler (å…¨ã‚½ãƒ¼ã‚¹)        â”‚
â”‚ - reader/*.lisp                 â”‚
â”‚ - compiler/*.lisp               â”‚
â”‚ - backend/*.lisp                â”‚
â”‚ - runtime/*.lisp                â”‚
â”‚ - ...                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      |
      v
  clysm-stage0.wasm
```

### ã‚¹ãƒ†ãƒ¼ã‚¸3: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° (Phase 13)

```
clysm-stage0.wasm
      |
      | (è‡ªèº«ã®ã‚½ãƒ¼ã‚¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«)
      v
clysm-stage1.wasm
      |
      | (è‡ªèº«ã®ã‚½ãƒ¼ã‚¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«)
      v
clysm-stage2.wasm
      |
      v
 stage1.wasm == stage2.wasm â†’ å›ºå®šç‚¹é”æˆ!
```

---

## 5. å„ªå…ˆé †ä½ãƒãƒƒãƒ—

```
Phase 0-8 [è¨€èªæ©Ÿèƒ½] âœ… å®Œäº†
    â”‚
    â–¼
Phase 9-13 [ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°] âš ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ã®ã¿å®Œäº†
    â”œâ”€â”€ 9A-D [åŸºç›¤æ©Ÿèƒ½] âœ…
    â”œâ”€â”€ 10A-C [SBCLéä¾å­˜åŒ–] âœ…
    â”œâ”€â”€ 11A-C [ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æ¤œè¨¼] âœ…
    â”œâ”€â”€ 12A-C [ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«] âœ…
    â”œâ”€â”€ 13A-C [å›ºå®šç‚¹ã‚¤ãƒ³ãƒ•ãƒ©] âœ…
    â””â”€â”€ 13D [çœŸã®ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°] â—€â”€â”€ ğŸ¯ æœ€å„ªå…ˆ
        â”œâ”€â”€ æœ€å°Lispã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿å®Ÿè£…
        â”œâ”€â”€ Stage 0ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ­ã‚¸ãƒƒã‚¯
        â””â”€â”€ éè‡ªæ˜ãªå›ºå®šç‚¹é”æˆ
    â”‚
    â–¼
Phase 14 [æ•°å€¤ãƒ»ç®—è¡“å¼·åŒ–]
    â”œâ”€â”€ 14A [ç®—è¡“é–¢æ•°æ‹¡å¼µ]
    â”œâ”€â”€ 14B [æ•°å€¤å‹è¿°èª]
    â””â”€â”€ 14C [æ•°å€¤å¤‰æ›]
    â”‚
    â–¼
Phase 15 [ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å¼·åŒ–]
    â”œâ”€â”€ 15A [ãƒªã‚¹ãƒˆæ“ä½œ]
    â”œâ”€â”€ 15B [æ±ç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹é–¢æ•°]
    â””â”€â”€ 15C [é…åˆ—æ“ä½œ]
    â”‚
    â–¼
Phase 16 [æ–‡å­—åˆ—ãƒ»æ–‡å­—å¼·åŒ–]
    â”œâ”€â”€ 16A [æ–‡å­—é–¢æ•°]
    â”œâ”€â”€ 16B [æ–‡å­—åˆ—æ“ä½œ]
    â””â”€â”€ 16C [ãƒ‘ãƒ¼ã‚¹ãƒ»æ§‹ç¯‰]
    â”‚
    â–¼
Phase 17 [åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼å¼·åŒ–]
    â”œâ”€â”€ 17A [LOOPæ‹¡å¼µ]
    â”œâ”€â”€ 17B [ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³]
    â””â”€â”€ 17C [æ¡ä»¶åˆ†å²]
    â”‚
    â–¼
Phase 18 [I/Oãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒ ]          â—€â”€â”€ é•·æœŸç›®æ¨™
    â”œâ”€â”€ 18A [å‡ºåŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ]
    â”œâ”€â”€ 18B [å…¥åŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ]
    â””â”€â”€ 18C [ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ]
    â”‚
    â–¼
Phase 19 [CLOSå®Œå…¨æº–æ‹ ]
    â”œâ”€â”€ 19A [MOPæ‹¡å¼µ]
    â”œâ”€â”€ 19B [ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°]
    â””â”€â”€ 19C [ãƒ¡ã‚½ãƒƒãƒ‰ã‚³ãƒ³ãƒ“ãƒãƒ¼ã‚·ãƒ§ãƒ³]
```

### ANSIæº–æ‹ ç‡ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

| Phase | ç›®æ¨™æº–æ‹ ç‡ | ä¸»è¦ã‚«ãƒ†ã‚´ãƒª |
|-------|-----------|-------------|
| ç¾åœ¨ | 23.4% | åŸºæœ¬ç®—è¡“ã€å‹è¿°èª |
| Phase 14å®Œäº† | 35% | numbers 50%+ |
| Phase 15å®Œäº† | 45% | sequences 60%+, cons 50%+ |
| Phase 16å®Œäº† | 55% | strings 70%+, characters 80%+ |
| Phase 17å®Œäº† | 60% | iteration 50%+, control-flow 40%+ |
| Phase 18å®Œäº† | 70% | streams åŸºæœ¬ã‚µãƒãƒ¼ãƒˆ |
| Phase 19å®Œäº† | 80% | objects/CLOS 60%+ |

---

## 6. ãƒªã‚¹ã‚¯åˆ†æã¨å¯¾ç­–

### é«˜ãƒªã‚¹ã‚¯ (ANSIæº–æ‹ )

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| ãƒ†ã‚¹ãƒˆçµæœæ¤œè¨¼ã®åˆ¶é™ | é«˜ | ç¾åœ¨fixnum/booleanã®ã¿ã€‚cons, symbolæ¯”è¼ƒã‚’æ®µéšè¿½åŠ  |
| I/Oã‚«ãƒ†ã‚´ãƒªã®å¤§è¦æ¨¡ã• | é«˜ | åŸºæœ¬å‡ºåŠ›â†’å…¥åŠ›â†’ãƒ•ã‚¡ã‚¤ãƒ«ã®é †ã§æ®µéšå®Ÿè£… |
| CLOSå®Œå…¨æº–æ‹ ã®è¤‡é›‘ã• | é«˜ | åŸºæœ¬æ©Ÿèƒ½ã‚’å…ˆè¡Œã€MOPæ‹¡å¼µã¯å¾Œå›ã— |
| ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå®Ÿè¡Œæ™‚é–“ | ä¸­ | ä¸¦åˆ—å®Ÿè¡Œå®Ÿè£…ã€‚ã‚«ãƒ†ã‚´ãƒªåˆ¥å®Ÿè¡Œ |
| æµ®å‹•å°æ•°ç‚¹ç²¾åº¦å•é¡Œ | ä¸­ | è¨±å®¹èª¤å·®ã‚’æ˜ç¢ºåŒ–ã€‚IEEE 754æº–æ‹ ãƒ†ã‚¹ãƒˆ |

### é«˜ãƒªã‚¹ã‚¯ (ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° - æœªè§£æ±º)

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– | çŠ¶æ…‹ |
|--------|--------|------|------|
| Stage 0ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ­ã‚¸ãƒƒã‚¯ãŒãªã„ | æœ€é«˜ | æœ€å°Lispã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿å®Ÿè£… | âŒ æœªè§£æ±º |
| éè‡ªæ˜ãªå›ºå®šç‚¹æœªé”æˆ | é«˜ | æ®µéšçš„æ©Ÿèƒ½è¿½åŠ  | âŒ æœªè§£æ±º |
| Wasmä¸Šã§ã®Lispå®Ÿè¡Œã®è¤‡é›‘ã• | é«˜ | ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿æ–¹å¼ã§æ®µéšçš„ã« | â³ æ¤œè¨ä¸­ |

### ä¸­ãƒªã‚¹ã‚¯ (ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ãƒ•ãƒ© - è§£æ±ºæ¸ˆã¿)

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– | çŠ¶æ…‹ |
|--------|--------|------|------|
| SBCLä¾å­˜ã®è¦‹è½ã¨ã— | é«˜ | é™çš„è§£æã§æ¤œå‡º | âœ… è§£æ±ºæ¸ˆã¿ |
| IEEE 754ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã®ç²¾åº¦ | é«˜ | å‚ç…§å®Ÿè£…æ¯”è¼ƒ | âœ… è§£æ±ºæ¸ˆã¿ |
| æ¤œè¨¼ã‚¤ãƒ³ãƒ•ãƒ©ã®ä¸å‚™ | ä¸­ | ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ•´å‚™ | âœ… è§£æ±ºæ¸ˆã¿ |

### ä½ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| `etypecase`ã®ç¶²ç¾…æ€§ | ä½ | å‹ãƒã‚§ãƒƒã‚«ãƒ¼ã§æ¤œè¨¼æ¸ˆã¿ |
| FORMATå®Ÿè£…ã®è¤‡é›‘ã• | ä½ | åŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å®Ÿè£…æ¸ˆã¿ |
| ãƒ•ã‚¡ã‚¤ãƒ«I/OæŠ½è±¡åŒ– | ä½ | FFIçµŒç”±ã§å‹•ä½œä¸­ |

---

## 7. ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¨æˆåŠŸæŒ‡æ¨™

### M0-M8: è¨€èªæ©Ÿèƒ½ âœ… å®Œäº†

ï¼ˆæ—¢å­˜ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ - ã™ã¹ã¦é”æˆæ¸ˆã¿ï¼‰

### M9: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°åŸºç›¤ (Phase 9å®Œäº†) âœ…

- [x] `typecase`/`etypecase` ãŒå‹•ä½œ
- [x] `destructuring-bind` ãŒå‹•ä½œ
- [x] åŸºæœ¬FORMAT (`~A ~S ~D ~%`) ãŒå‹•ä½œ
- [x] ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®50%ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½

### M10: SBCLéä¾å­˜ (Phase 10å®Œäº†) âœ…

- [x] `sb-kernel:*-float-bits` ä»£æ›¿å®Ÿè£…å®Œäº†
- [x] `sb-int:with-float-traps-masked` ä»£æ›¿å®Œäº†
- [x] Babelä¾å­˜æ’é™¤å®Œäº†
- [x] SBCLå›ºæœ‰ã‚³ãƒ¼ãƒ‰ä½¿ç”¨ç®‡æ‰€ = 0

### M11: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æ¤œè¨¼ (Phase 11å®Œäº†) âœ…

- [x] å…¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒClysmè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] ç”ŸæˆWasmãŒå…¨ã¦validationé€šé
- [x] åŸºæœ¬æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆå…¨ãƒ‘ã‚¹

### M12: ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸ (Phase 12å®Œäº†) âœ…

- [x] `clysm-stage0.wasm` ç”ŸæˆæˆåŠŸ
- [x] Stage 0ãŒ`(+ 1 2)`ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [x] Stage 0ã¨SBCLç‰ˆã®å‡ºåŠ›ãŒä¸€è‡´

### M13: ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ãƒ•ãƒ© (Phase 13A-C) âš ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ã®ã¿

- [x] Stage 1ç”ŸæˆæˆåŠŸï¼ˆå½¢å¼çš„ï¼‰
- [x] Stage 1 == Stage 2 (è‡ªæ˜ãªå›ºå®šç‚¹: ç©º == ç©º)
- [ ] Stage 0ãŒå®Ÿéš›ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ â† æœªé”æˆ
- [ ] SBCLãªã—ã§æ–°æ©Ÿèƒ½é–‹ç™ºå¯èƒ½ â† æœªé”æˆ

### M13D: çœŸã®ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° (Phase 13D) ğŸ¯ æ¬¡ã®æœ€å„ªå…ˆ

- [ ] Stage 0ã«æœ€å°Lispã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿å®Ÿè£…
- [ ] `(+ 1 2)` ãŒ Stage 0 ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½
- [ ] Stage 1 > 1KB (éç©ºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
- [ ] Stage 1 == Stage 2 (éè‡ªæ˜ãªå›ºå®šç‚¹)
- [ ] SBCLãªã—ã§Clysmé–‹ç™ºå¯èƒ½

### M14: æ•°å€¤å¼·åŒ–é”æˆ (Phase 14å®Œäº†)

- [ ] ä¸‰è§’é–¢æ•°ãƒ»åŒæ›²ç·šé–¢æ•°ãŒå‹•ä½œ
- [ ] ãƒ“ãƒƒãƒˆæ¼”ç®—é–¢æ•°ãŒå‹•ä½œ
- [ ] ANSIæº–æ‹ ç‡ 35%+
- [ ] numbers ã‚«ãƒ†ã‚´ãƒª 50%+ ãƒ‘ã‚¹

### M15: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å¼·åŒ–é”æˆ (Phase 15å®Œäº†)

- [ ] é›†åˆæ¼”ç®—ãŒå‹•ä½œ
- [ ] ã‚·ãƒ¼ã‚±ãƒ³ã‚¹æ±ç”¨é–¢æ•°ãŒå‹•ä½œ
- [ ] ANSIæº–æ‹ ç‡ 45%+
- [ ] sequences ã‚«ãƒ†ã‚´ãƒª 60%+ ãƒ‘ã‚¹

### M16: æ–‡å­—åˆ—å¼·åŒ–é”æˆ (Phase 16å®Œäº†)

- [ ] æ–‡å­—åˆ—æ“ä½œé–¢æ•°ãŒå‹•ä½œ
- [ ] æ–‡å­—åˆ†é¡è¿°èªãŒå‹•ä½œ
- [ ] ANSIæº–æ‹ ç‡ 55%+
- [ ] strings ã‚«ãƒ†ã‚´ãƒª 70%+ ãƒ‘ã‚¹

### M17: åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼å¼·åŒ–é”æˆ (Phase 17å®Œäº†)

- [ ] LOOPæ‹¡å¼µæ©Ÿèƒ½ãŒå‹•ä½œ
- [ ] DO/DO*å®Œå…¨å‹•ä½œ
- [ ] ANSIæº–æ‹ ç‡ 60%+
- [ ] iteration ã‚«ãƒ†ã‚´ãƒª 50%+ ãƒ‘ã‚¹

### M18: I/OåŸºç›¤é”æˆ (Phase 18å®Œäº†)

- [ ] åŸºæœ¬ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡ºåŠ›ãŒå‹•ä½œ
- [ ] FORMATå®Œå…¨å®Ÿè£…
- [ ] ANSIæº–æ‹ ç‡ 70%+
- [ ] streams ã‚«ãƒ†ã‚´ãƒª åŸºæœ¬ã‚µãƒãƒ¼ãƒˆ

### M19: CLOSå®Œå…¨æº–æ‹  (Phase 19å®Œäº†)

- [ ] MOPæ‹¡å¼µå®Œäº†
- [ ] ãƒ¡ã‚½ãƒƒãƒ‰ã‚³ãƒ³ãƒ“ãƒãƒ¼ã‚·ãƒ§ãƒ³å‹•ä½œ
- [ ] ANSIæº–æ‹ ç‡ 80%+
- [ ] objects ã‚«ãƒ†ã‚´ãƒª 60%+ ãƒ‘ã‚¹

---

## 8. æŠ€è¡“çš„è©³ç´°

### ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã«å¿…è¦ãªCLæ©Ÿèƒ½ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

| æ©Ÿèƒ½ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ä½¿ç”¨æ•° | ClysmçŠ¶æ…‹ | Phase |
|------|-----------------|----------|-------|
| `defstruct` | 184 | âœ… (CLOSçµŒç”±) | - |
| `loop` | 121 | âœ… | 8I |
| `format` | 93 | âŒ | 9D |
| `typecase` | 892* | âŒ | 9A |
| `defmacro` | 36 | éƒ¨åˆ†çš„ | 9C |
| `destructuring-bind` | 9 | âŒ | 9B |
| `handler-case` | å¤šæ•° | âœ… | 8F |
| `with-open-file` | 13 | âŒ | 10C |

*`etypecase`ã¨`check-type`å«ã‚€

### SBCLä¾å­˜ç®‡æ‰€

```lisp
;; compiler/ast.lisp:699
(sb-int:with-float-traps-masked (:overflow :invalid :divide-by-zero)
  ...)

;; compiler/compiler.lisp:1118
(sb-kernel:single-float-bits f)

;; compiler/compiler.lisp:1127
(sb-kernel:double-float-bits f)
```

### Babelä¾å­˜ç®‡æ‰€

```lisp
;; 6ç®‡æ‰€ã§ä½¿ç”¨
(babel:string-to-octets str :encoding :utf-8)
```

---

## 9. å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `.specify/memory/constitution.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ†²æ³•
- `.specify/memory/self-hosting-analysis.md` - ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°åˆ†æ (æ–°è¦ä½œæˆäºˆå®š)
- `resources/Wasm Common Lisp å‹•çš„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆ¦ç•¥.pdf` - æŠ€è¡“è©³ç´°
- `resources/WebAssembly ãƒ†ã‚­ã‚¹ãƒˆãƒ»ãƒã‚¤ãƒŠãƒªè¡¨ç¾èª¿æŸ».pdf` - Wasmä»•æ§˜å‚ç…§

---

## å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|------------|------|----------|
| 0.1.0 | 2025-12-21 | åˆç‰ˆä½œæˆ |
| 0.2.0 | 2025-12-24 | Phase 8ã‚’ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚º(8A-8F)ã«åˆ†å‰²ã€8A/8Bå®Œäº†ã€æ†²æ³•é€¸è„±ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ  |
| 0.2.1 | 2025-12-24 | Phase 8D (WASI Stream I/O) ã‚’ä¸­æ–­ |
| 0.3.0 | 2025-12-25 | 020-ansi-test: ANSIãƒ†ã‚¹ãƒˆãƒãƒ¼ãƒã‚¹åŸºç›¤å®Œæˆ |
| 0.3.1 | 2025-12-26 | 022-wasm-import-optimization: FFI Importæ¡ä»¶ä»˜ãå‡ºåŠ›å®Œäº† |
| 0.4.0 | 2025-12-27 | Phase 0-8å®Œäº†ç¢ºèªã€‚Phase 8G-8Iè¿½åŠ  |
| 1.0.0 | 2025-12-27 | ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚º (Phase 9-13) è¿½åŠ ã€‚æœ€çµ‚ç›®æ¨™ã‚’ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã«è¨­å®š |
| 2.0.0 | 2025-12-28 | Phase 9-13å®Œäº†ã€‚ANSIæº–æ‹ ç‡å‘ä¸Šãƒ•ã‚§ãƒ¼ã‚º (Phase 14-19) è¿½åŠ ã€‚ç¾åœ¨23.4%ã‹ã‚‰80%ã‚’ç›®æ¨™ã«è¨­å®š |
| 2.1.0 | 2025-12-28 | ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ¤œè¨¼çµæœã‚’åæ˜ ã€‚Phase 13ã¯ã€Œã‚¤ãƒ³ãƒ•ãƒ©å®Œäº†ã€ã«ä¿®æ­£ï¼ˆStage 0ãŒã‚¹ã‚¿ãƒ–ã®ã¿ã§å®Ÿéš›ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ­ã‚¸ãƒƒã‚¯ãªã—ï¼‰ã€‚Phase 13Dã¨ã—ã¦çœŸã®ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°é”æˆã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ  |
| 2.2.0 | 2025-12-29 | Phase 13Dãƒ–ãƒ­ãƒƒã‚«ãƒ¼åˆ†æã‚’å¤§å¹…ä¿®æ­£ã€‚ã€Œå†…éƒ¨é–¢æ•°ã‚’ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ç™»éŒ²ã€ã¯èª¤ã‚Šã§ã‚ã‚Šã€ã€ŒANSI CLæ¨™æº–é–¢æ•°ï¼ˆcoerce, aref, svrefç­‰ï¼‰ã‚’ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å®Ÿè£…ã€ãŒæ­£ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨åˆ¤æ˜ã€‚make-ast-literalç­‰ã¯defstructãŒç”Ÿæˆã™ã‚‹é–¢æ•°ã€encode-unsigned-leb128ç­‰ã¯é€šå¸¸ã®defunã§ã‚ã‚Šã€ã“ã‚Œã‚‰ãŒä½¿ç”¨ã™ã‚‹ANSI CLé–¢æ•°ãŒæœªå®Ÿè£…ã§ã‚ã‚‹ã“ã¨ãŒæ ¹æœ¬åŸå› ã€‚ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã‚’è¿½åŠ  |
| **2.3.0** | **2025-12-29** | **ã€ŒANSI TestsæˆåŠŸç‡å‘ä¸Šæˆ¦ç•¥ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³(Â§3)ã‚’è¿½åŠ ã€‚Clysmã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã®æ©Ÿèƒ½ä½¿ç”¨é »åº¦ã«åŸºã¥ãå„ªå…ˆåº¦åˆ¤å®šåŸºæº–(P1ã€œP4)ã‚’å°å…¥ã€‚P1æœ€å„ªå…ˆ: é…åˆ—(aref/svref)ã€ã‚·ãƒ¼ã‚±ãƒ³ã‚¹(elt/subseq/coerce)ã€ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«(maphash/remhash)ã€LOOPå®Œå…¨å®Ÿè£…ã€‚P2é«˜å„ªå…ˆ: ãƒªã‚¹ãƒˆæ¤œç´¢(find/position)ã€ãƒãƒƒãƒ”ãƒ³ã‚°(mapc/mapcan)ã€æ–‡å­—åˆ—æ“ä½œ(string-upcase)ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£(setf getf)ã€‚ANSIãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒªåˆ¥ç›®æ¨™ã‚’è¨­å®š(cons 80%ã€sequences 60%ã€arrays 50%ç­‰)** |
| **2.4.0** | **2025-12-30** | **Phase 13D-2 ANSI CL Sequence Operations MVPå®Œäº† (001-ansi-sequence-operations)ã€‚subseq, concatenate, make-string, make-arrayæ‹¡å¼µ, copy-seq, array.copy instruction (å…¨ã¦string-only)ã€‚vector/listå¯¾å¿œã¯Phase 13D-2bã¨ã—ã¦å»¶æœŸã€‚** |
